<?xml version="1.0" encoding="UTF-8"?>
<!--************************************************************************-->
<!--                                                                        -->
<!-- Schema:  cfs_billing.xsd                                               -->
<!--                                                                        -->
<!-- Purpose: Definition of the schema for MetaSphere CFS XML billing files -->
<!--                                                                        -->
<!-- Â© COPYRIGHT METASWITCH NETWORKS LTD                                    -->
<!--                                                                        -->
<!-- $Id:: cfs_billing.xsd 188641 2016-03-08 17:03:10Z pf                 $ -->
<!-- $URL:: http://enfieldsvn/repos/metaswitch/branches/V9.2.10maint/msw/#$ -->
<!--                                                                        -->
<!-- Notes:   This schema should be used by any applications that need      -->
<!--          to validate MetaSphere CFS billing files and is also used in  -->
<!--          the preparation of human-readable documentation for the       -->
<!--          billing file format.                                          -->
<!--                                                                        -->
<!--          When making changes to this schema, please ensure that the    -->
<!--          Documentation Group is informed so that the Communities site  -->
<!--          is updated to reflect the changes.                            -->
<!--                                                                        -->
<!--          Design Principles                                             -->
<!--          =================                                             -->
<!--          The schema adopts the "Venetian Blind" design pattern for XML -->
<!--          schemas with a single global root element (the <File>) and all-->
<!--          child elements then defined in terms of globally defined      -->
<!--          types.                                                        -->
<!--                                                                        -->
<!--          Documentation regarding the meaning and usage of elements of  -->
<!--          the schema are contained in the <documentation> elements.     -->
<!--          This is the information that a user of the schema and billing -->
<!--          files will need to do his/her job.                            -->
<!--                                                                        -->
<!--          Documentation regarding the layout of the schema file itself  -->
<!--          is included in XML comments (like this one) within the file.  -->
<!--          This is the information that a maintainer of the schema will  -->
<!--          need to do his/her job and is not required by a user.         -->
<!--                                                                        -->
<!--          The schema adopts the conventions:                            -->
<!--                                                                        -->
<!--              1) Element names are in CamelCase.                        -->
<!--                                                                        -->
<!--              2) Attribute names are in lowercase.                      -->
<!--                                                                        -->
<!--              3) Enumerated string content is in CamelCase.             -->
<!--                                                                        -->
<!--              4) Enumerated string attribute values are in lowercase and-->
<!--                 may include spaces between words.                      -->
<!--                                                                        -->
<!--              5) Type definitions used in a single element have the same-->
<!--                 name as the element with the suffix "Type".            -->
<!--                                                                        -->
<!--          Version Compatibility                                         -->
<!--          =====================                                         -->
<!--          Changes to the schema should be introduced in a manner that   -->
<!--          minimizes the impact on the maintainers of tools that that    -->
<!--          process billing files. In particular, new elements should be  -->
<!--          added as optional, even if we always expect to output them    -->
<!--          since that will enable tools to be lax when validating back-  -->
<!--          level files.                                                  -->
<!--                                                                        -->
<!--          The version attribute on the schema will be stepped for all   -->
<!--          changes that break compatibility. The rules for how this will -->
<!--          be updated are described in the <annotation> for the <schema> -->
<!--          below.                                                        -->
<!--                                                                        -->
<!--************************************************************************-->

<schema targetNamespace="http://www.metaswitch.com/cfs/billing/V1.0"
        xmlns="http://www.w3.org/2001/XMLSchema"
        xmlns:cdr="http://www.metaswitch.com/cfs/billing/V1.0"
        elementFormDefault="qualified" attributeFormDefault="unqualified">
  <annotation>
    <documentation>This is the schema for the charging information generated
      by the MetaSphere CFS.

      It adopts the "Venetian Blind" design-pattern, in that all types
      are defined globally, but there is a single root element, the
      &lt;File>.

      The schema will be updated as new billing features are introduced to
      MetaSphere CFS in a version-controlled manner to try to minimize the
      impact on users of the schema. In order to achieve this objective the
      version number in the namespace will only be stepped for changes to
      the schema that break backwards compatibility, such as the introduction
      of new mandatory elements or the removal of old mandatory elements.

      However, that means that new elements may appear in future versions of
      the schema that do not result in a change to the namespace but tools do
      need to understand.  The compatibility attribute of the &lt;File>
      element will be stepped with each release that introduces new backwards-
      compatible elements so tools can modify their behavior accordingly.

      All types and elements defined in this schema include the version of
      the schema and the compatibility level that introduced that type or
      element in its documentation.

      The documentation of the &lt;File> element indicates which versions of
      MetaSphere CFS output which schema versions.
      </documentation>
  </annotation>

  <!--**********************************************************************-->
  <!--**********************************************************************-->
  <!--                                                                      -->
  <!-- Define simple types that are re-used across the content model.       -->
  <!--                                                                      -->
  <!-- These types tend to stand alone but are grouped roughly according to -->
  <!-- their usage/kind.  In order:                                         -->
  <!--                                                                      -->
  <!--   1) Fundamental types                                               -->
  <!--   2) Failure reasons/response codes                                  -->
  <!--   3) Call treatments                                                 -->
  <!--   4) VQM stats types                                                 -->
  <!--                                                                      -->
  <!--**********************************************************************-->
  <!--**********************************************************************-->

  <!--**********************************************************************-->
  <!-- An empty type to be used defining empty content models.              -->
  <!--**********************************************************************-->
  <simpleType name="EmptyContentType">
    <annotation>
      <documentation>An empty content model type used to allow the definition
        of optional or mandatory empty content models for elements.
      </documentation>
    </annotation>
    <restriction base="string">
      <enumeration value="">
        <annotation>
          <documentation>An empty string value.</documentation>
        </annotation>
      </enumeration>
    </restriction>
  </simpleType>

  <!--**********************************************************************-->
  <!-- An four bit value type.                                              -->
  <!--**********************************************************************-->
  <simpleType name="FourBitValueType">
    <annotation>
      <documentation>An unsigned number in range 0-15.
      </documentation>
    </annotation>
    <restriction base="unsignedByte">
      <maxInclusive value="15"/>
    </restriction>
  </simpleType>

  <!--**********************************************************************-->
  <!-- An five bit value type.                                              -->
  <!--**********************************************************************-->
  <simpleType name="FiveBitValueType">
    <annotation>
      <documentation>An unsigned number in range 0-31.
      </documentation>
    </annotation>
    <restriction base="unsignedByte">
      <maxInclusive value="31"/>
    </restriction>
  </simpleType>

  <!--**********************************************************************-->
  <!-- An 24 bit value type.                                                -->
  <!--**********************************************************************-->
  <simpleType name="TwentyFourBitValueType">
    <annotation>
      <documentation>An unsigned number in range 0-16,777,215.
      </documentation>
    </annotation>
    <restriction base="unsignedLong">
      <maxInclusive value="16777215"/>
    </restriction>
  </simpleType>

  <!--**********************************************************************-->
  <!-- A type to represent sequence numbers for files.                      -->
  <!--**********************************************************************-->
  <simpleType name="FileSeqNumType">
    <annotation>
      <documentation>A sequence number that is guaranteed positive and
        increasing monotonically so files can be ordered correctly.
        </documentation>
    </annotation>
    <restriction base="unsignedLong">
      <minInclusive value="0"></minInclusive>
      <maxInclusive value="999999"></maxInclusive>
    </restriction>
  </simpleType>

  <!--**********************************************************************-->
  <!-- A type to represent sequence numbers for files and CDRs.             -->
  <!--**********************************************************************-->
  <simpleType name="CDRSeqNumType">
    <annotation>
      <documentation>
        A sequence number that is guaranteed positive and
        increasing monotonically within a single file.
      </documentation>
    </annotation>
    <restriction base="unsignedLong">
      <minInclusive value="1"></minInclusive>
      <maxInclusive value="999999999"></maxInclusive>
    </restriction>
  </simpleType>

  <!--**********************************************************************-->
  <!-- A type to represent durations of calls.                              -->
  <!--**********************************************************************-->
  <simpleType name="DurationType">
    <annotation>
      <documentation>A duration in seconds. These durations are only used for
        aggregated call statistics so whole-second resolution is sufficient.
      </documentation>
    </annotation>
    <restriction base="unsignedLong">
    </restriction>
  </simpleType>

  <!--**********************************************************************-->
  <!-- A type to represent the ticks used in timestamps.                    -->
  <!--**********************************************************************-->
  <simpleType name="TicksType">
    <annotation>
      <documentation>Timestamps represent a time in milliseconds since 00:00:00
        on 1st January 1970.</documentation>
    </annotation>
    <restriction base="unsignedLong"></restriction>
  </simpleType>

  <!--**********************************************************************-->
  <!-- A type to represent (possibly empty) timestamps.                     -->
  <!--**********************************************************************-->
  <simpleType name="TimestampType">
    <annotation>
      <documentation>Timestamps represent a time in milliseconds since 00:00:00
        on 1st January 1970. They may be empty, reflecting no time value being
        available.</documentation>
    </annotation>
    <union memberTypes="cdr:TicksType cdr:EmptyContentType" />
  </simpleType>

  <!--**********************************************************************-->
  <!-- A type to allow the namespace of addresses to be specified           -->
  <!--**********************************************************************-->
  <simpleType name="AddressFamilyType">
    <annotation>
      <documentation>
        Specifies the namespace of the associated address.
      </documentation>
    </annotation>
    <restriction base="string">
      <enumeration value="e164">
        <annotation>
          <documentation>An E.164 number (e.g. +442476992023)</documentation>
        </annotation>
      </enumeration>
      <enumeration value="national">
        <annotation>
          <documentation>A national number (e.g. 2476992023)</documentation>
        </annotation>
      </enumeration>
      <enumeration value="subscriber">
        <annotation>
          <documentation>A subscriber number (e.g. 2476992023)
          Introduced: Version 1.0, Compatibility Level 5.
          </documentation>
        </annotation>
      </enumeration>

      <enumeration value="sip_uri">
        <annotation>
          <documentation>A SIP URI (e.g. sip:alice@example.com)</documentation>
        </annotation>
      </enumeration>
      <enumeration value="tel_uri">
        <annotation>
          <documentation>A TEL URI (e.g. tel:+442476992023)</documentation>
        </annotation>
      </enumeration>
      <enumeration value="unknown"></enumeration>
    </restriction>
  </simpleType>

  <!--**********************************************************************-->
  <!-- A type representing the privacy treatment a subscriber expects for   -->
  <!-- their identity's handling.                                           -->
  <!--**********************************************************************-->
  <simpleType name="PrivacyType">
    <annotation>
      <documentation>Describes the privacy handling required for the
        user's identity.
      </documentation>
    </annotation>
    <restriction base="string">
      <enumeration value="no indication">
      <annotation>
        <documentation>No indication available from the underlying network of
          what privacy treatment the user wants.
        </documentation>
      </annotation>
      </enumeration>
      <enumeration value="false">
        <annotation>
          <documentation>The user does not require restricted handling of
            their identity.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="true">
        <annotation>
          <documentation>The user does require that their identity is withheld
            in public locations.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="num not avail">
        <annotation>
          <documentation>The user's identity is not available.
          </documentation>
        </annotation>
      </enumeration>
    </restriction>
  </simpleType>

  <!--**********************************************************************-->
  <!-- A type representing the values of the Dup attribute for a Trunk      -->
  <!-- Group included by the TermParty element.  This has only one value    -->
  <!-- which is true that indicates that the trunk routing failure for the  -->
  <!-- Trunk Group is a duplicate of a failure for a Trunk Group included   -->
  <!-- by the FailedTrunkGroups element.                                    -->
  <!--**********************************************************************-->
  <simpleType name="DupType">
    <annotation>
      <documentation>Specifies whether the failure is a duplicate.
      </documentation>
    </annotation>
    <restriction base="string">
      <enumeration value="true">
        <annotation>
          <documentation>The trunk routing failure is a duplicate.
          </documentation>
        </annotation>
      </enumeration>
    </restriction>
  </simpleType>

  <!--**********************************************************************-->
  <!-- A type to represent the type of billing required for a subscriber.   -->
  <!--**********************************************************************-->
  <simpleType name="BillingTypeType">
    <annotation>
      <documentation>The type of billing that will be generated for a user.
      </documentation>
    </annotation>
    <restriction base="string">
      <enumeration value="flat rate">
        <annotation>
          <documentation>The user is charged a flat rate irrespective of usage.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="msg rate">
        <annotation>
          <documentation>The user is charged for each call.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="fx rate">
        <annotation>
          <documentation>The line is served by an exchange in a different
            location from the subscriber (a foreign exchange). A Message
            Billing Index (MBI) should be specified in Number Validation for
            each call, which can be used to provide detailed control over
            billing.
          </documentation>
        </annotation>
      </enumeration>
    </restriction>
  </simpleType>

  <!--**********************************************************************-->
  <!-- A type to represent the User-Agent string from a SIP client.         -->
  <!--**********************************************************************-->
  <simpleType name="UserAgentType">
    <annotation>
      <documentation>This value represents the User-Agent string provided by
        a user's SIP client, if available.
      </documentation>
    </annotation>
    <restriction base="string">
      <minLength value="0"/>
    </restriction>
  </simpleType>

  <!--**********************************************************************-->
  <!-- A type to represent an accounting reference provided by the operator -->
  <!--**********************************************************************-->
  <simpleType name="TrunkAccountingType">
    <annotation>
      <documentation>This value represents a reference provided by the
        operator for accounting on a trunk.
      </documentation>
    </annotation>
    <restriction base="string">
      <minLength value="0"/>
      <maxLength value="32"/>
    </restriction>
  </simpleType>

  <!--**********************************************************************-->
  <!-- A type to represent the name of a trunk within the operator's        -->
  <!-- network.                                                             -->
  <!--**********************************************************************-->
  <simpleType name="TrunkNameType">
    <annotation>
      <documentation>This value represents the name of a trunk group.

        Introduced: Version 1.0, Compatibility Level 5.
      </documentation>
    </annotation>
    <restriction base="string">
      <minLength value="0"/>
      <maxLength value="32"/>
    </restriction>
  </simpleType>

  <!--**********************************************************************-->
  <!-- A type to represent kinds of EventCDR                                -->
  <!--**********************************************************************-->
  <simpleType name="EventTypeType">
    <annotation>
      <documentation>The kind of Event being reported by a CDR.
      </documentation>
    </annotation>
    <restriction base="string">
      <enumeration value="Unknown">
        <annotation>
          <documentation>It is not known what kind of event generated the CDR.
            This value is not expected in normal CDRs.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="FeatureActivation">
        <annotation>
          <documentation>The CDR was generated by the activation of a feature.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="FeatureDeactivation">
        <annotation>
          <documentation>The CDR was generated by the deactivation of a
            feature.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="FeatureUsage">
        <annotation>
          <documentation>The CDR was generated by the use of the management
            features of the service. Note that this does not refer to the
            service itself: for example, with Selective Call Forwarding this
            may be generated by listening to the current destination, not when
            a call is forwarded by the service.
          </documentation>
        </annotation>
      </enumeration>
    </restriction>
  </simpleType>

  <!--**********************************************************************-->
  <!-- A type to represent the reasons that a channel may have been skipped -->
  <!-- (as against failed) in Routing.                                      -->
  <!--**********************************************************************-->
  <simpleType name="SkipReasonType">
    <annotation>
      <documentation>The reasons that a Media Channel may have been rejected
      during Routing, other than failures after attempting to select that
      channel.
      </documentation>
    </annotation>
    <restriction base="string">
      <enumeration value="SignalChannelOffline">
        <annotation>
          <documentation>The signaling associated with the channel was offline.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="MediaChannelOffline">
        <annotation>
          <documentation>The media associated with the channel was offline.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="SignalStackRejected">
        <annotation>
          <documentation>The request was rejected by the signaling stack
            associated with the channel.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="SignalChannelRejected">
        <annotation>
          <documentation>The request was rejected by the signaling channel
            associated with the channel.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="SignalChannelCongested">
        <annotation>
          <documentation>The signaling channel is congested and the request was
            rejected to reduce the level of traffic.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="MediaChannelCongested">
        <annotation>
          <documentation>The media circuits associated with the channel are
            congested and the request was rejected to reduce the level of
            traffic.
          </documentation>
        </annotation>
      </enumeration>
    </restriction>
  </simpleType>

  <!--**********************************************************************-->
  <!-- A type to represent Q.850 release reasons                            -->
  <!--**********************************************************************-->
  <simpleType name="Q850ReasonType">
    <annotation>
      <documentation>The reasons that a call may have been released or rejected
        using the release causes defined in ITU-T Q.850.
        See http://www.itu.int/rec/T-REC-Q.850/en
      </documentation>
    </annotation>
    <restriction base="unsignedByte" />
  </simpleType>

  <!--**********************************************************************-->
  <!-- A type to represent SIP response codes                               -->
  <!--**********************************************************************-->
  <simpleType name="SIPReasonType">
    <annotation>
      <documentation>The reasons that a call may have been released or rejected
      using SIP response codes defined in RFC 3261.
      </documentation>
    </annotation>
    <restriction base="unsignedShort">
      <minInclusive value="100">
        <annotation>
          <documentation>1XX codes represent provisional responses, so while
          syntactically valid for SIP response codes, we would not expect to
          see them in CDRs.</documentation>
        </annotation>
      </minInclusive>
      <maxInclusive value="699">
        <annotation>
          <documentation>6XX response codes represent global failures.
          </documentation>
        </annotation>
      </maxInclusive>
    </restriction>
  </simpleType>

  <!--**********************************************************************-->
  <!-- A type to represent internal release reasons.                        -->
  <!-- Note that the maximum length of the string is set to the value of    -->
  <!-- value of CLBA_XML_CHAR_ARRAY_LEN.                                    -->
  <!--**********************************************************************-->
  <simpleType name="InternalReasonType">
    <annotation>
      <documentation>The internal interpretation of the reasons that a call
       may have been released or rejected.
      </documentation>
    </annotation>
    <restriction base="string">
      <minLength value="0"/>
      <maxLength value="40"/>
    </restriction>
  </simpleType>

  <!--**********************************************************************-->
  <!-- A type to represent the kind of failure reasons possible in routing. -->
  <!--**********************************************************************-->
  <simpleType name="TrunkFailTypeType">
    <annotation>
      <documentation>The kinds of failure reasons that are possible in trunk
        routing. Enables correct interpretation of the reason code given.
      </documentation>
    </annotation>
    <restriction base="string">
      <enumeration value="q850">
        <annotation>
          <documentation>The reason is a Q.850 Cause value. Interpret as a
            Q850ReasonType.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="sip">
        <annotation>
          <documentation>The reason is a SIP release cause. Interpret as a
          SIPReasonType.</documentation>
        </annotation>
      </enumeration>
      <enumeration value="skip">
        <annotation>
          <documentation>The reason is an internal MetaSphere value. Interpret
          as a SkipReasonType.
          </documentation>
        </annotation>
      </enumeration>
    </restriction>
  </simpleType>

  <!--**********************************************************************-->
  <!-- A type to represent the failure to select a trunk                    -->
  <!--**********************************************************************-->
  <simpleType name="TrunkFailReasonsType">
    <annotation>
      <documentation>The reasons that a trunk may have failed to route a call.
        the trunk may have been skipped, or may have failed having been
        selected.
      </documentation>
    </annotation>
    <union memberTypes="cdr:Q850ReasonType
                        cdr:SIPReasonType
                        cdr:SkipReasonType">
      <annotation>
        <documentation>The trunk may have been skipped (SkipReasonType) or have
          failed after selection (Q850ReasonType or SIPReasonType).
        </documentation>
      </annotation>
    </union>
  </simpleType>

  <!--**********************************************************************-->
  <!-- A type to indicate how to interpret a call release reason which may  -->
  <!-- be either a Q.850 cause value or a SIP response code.                -->
  <!--**********************************************************************-->
  <simpleType name="ReleaseReasonTypeType">
    <annotation>
      <documentation>Specifies how to interpret a call release reason.
        </documentation>
    </annotation>
    <restriction base="string">
      <enumeration value="q850">
        <annotation>
          <documentation>The release cause is a standard ITU-T Q.850 value.
            See http://www.itu.int/rec/T-REC-Q.850/en.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="internal">
        <annotation>
          <documentation>The release cause is an internal release cause value.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="national">
        <annotation>
          <documentation>The release cause is a nationally specified value.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="network spec">
        <annotation>
          <documentation>The release cause is a network-specific value.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="sip">
        <annotation>
          <documentation>The release cause is a network-specific value.

            Introduced: Version 1.0, Compatibility Level 2.
          </documentation>
        </annotation>
      </enumeration>
    </restriction>
  </simpleType>

  <!--**********************************************************************-->
  <!-- A type to indicate where a Q.850 release reason was raised.          -->
  <!--**********************************************************************-->
  <simpleType name="ReleaseLocationType">
    <annotation>
      <documentation>Specifies where a Q.850 Release Cause was raised. The
        values of the enumeration are the standard mnemonics from Q.850.
        See http://www.itu.int/rec/T-REC-Q.850/en.

        Introduced: Version 1.0, Compatibility Level 2.
      </documentation>
    </annotation>
    <restriction base="string">
      <enumeration value="u">
        <annotation>
          <documentation>User</documentation>
        </annotation>
      </enumeration>
      <enumeration value="lpn">
        <annotation>
          <documentation>Private network serving the local user.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="ln">
        <annotation>
          <documentation>Public network serving the local user.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="tn">
        <annotation>
          <documentation>Transit network.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="rln">
        <annotation>
          <documentation>Public network serving the remote user.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="rpn">
        <annotation>
          <documentation>Private network serving the remote user.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="intl">
        <annotation>
          <documentation>International network.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="bi">
        <annotation>
          <documentation>Network beyond interworking point.
          </documentation>
        </annotation>
      </enumeration>
    </restriction>
  </simpleType>

  <!--**********************************************************************-->
  <!-- A type to allow both Q.850, SIP, and internal release reasons to be  -->
  <!-- given for calls.                                                     -->
  <!--**********************************************************************-->
  <simpleType name="ReleaseReasonCodesType">
    <annotation>
      <documentation>Specifies the reason the call was released. May depend
        on the underlying signalling technology.
      </documentation>
    </annotation>
    <union memberTypes="cdr:Q850ReasonType cdr:SIPReasonType
     cdr:InternalReasonType">
      <annotation>
        <documentation>Union of Q.850 release causes and SIP response codes
          are possible.
          </documentation>
      </annotation>
    </union>
  </simpleType>

  <!--**********************************************************************-->
  <!-- A type to represent the kinds of trunk that may be supported.        -->
  <!--**********************************************************************-->
  <simpleType name="TrunkTypeType">
    <annotation>
      <documentation>The kinds of trunk that a call may be carried over. Note
        that some of these may not appear in CDRs.
      </documentation>
    </annotation>
    <restriction base="string">
      <enumeration value="no sig">
        <annotation>
          <documentation>No signaling associated with this trunk.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="isup">
        <annotation>
          <documentation>An ISUP trunk.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="analog line">
        <annotation>
          <documentation>An individual analog line - this value is not expected
            in CDRs.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="call services">
        <annotation>
          <documentation>A call service - this value is not expected in CDRs.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="mf">
        <annotation>
          <documentation>An MF trunk.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="isdn">
        <annotation>
          <documentation>An ISDN PRI trunk.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="sip">
        <annotation>
          <documentation>A SIP trunk.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="none">
        <annotation>
          <documentation>No signalling associated with this trunk.
          </documentation>
        </annotation>
      </enumeration>
    </restriction>
  </simpleType>

  <!--**********************************************************************-->
  <!-- A type to represent the identity of a network connected by a trunk.  -->
  <!--**********************************************************************-->
  <simpleType name="NetworkNumberType">
    <annotation>
      <documentation>Specifies the identity of a network connected to this
        system by a trunk interface.
      </documentation>
    </annotation>
    <restriction base="unsignedLong">
      <minInclusive value="0"/>
      <maxInclusive value="999999"/>
    </restriction>
  </simpleType>

  <!--**********************************************************************-->
  <!-- A type to represent the identity of a trunk.                         -->
  <!--**********************************************************************-->
  <simpleType name="TrunkGroupIdType">
    <annotation>
      <documentation>
        Specifies the identity of a trunk interface.
      </documentation>
    </annotation>
    <restriction base="unsignedLong">
      <minInclusive value="0" />
      <maxInclusive value="9999" />
    </restriction>
  </simpleType>

  <!--**********************************************************************-->
  <!-- A type to represent the identity of a circuit/channel within a trunk.-->
  <!--**********************************************************************-->
  <simpleType name="TrunkMemberIdType">
    <annotation>
      <documentation>Specifies the identity of a circuit or channel within a
        trunk interface.
      </documentation>
    </annotation>
    <restriction base="unsignedLong">
    </restriction>
  </simpleType>

  <!--**********************************************************************-->
  <!-- A type to represent the identity of a trunk group.                   -->
  <!--**********************************************************************-->
  <simpleType name="TrunkGroupLabelType">
    <annotation>
      <documentation>Specifies the identity of a trunk group.
      </documentation>
    </annotation>
    <restriction base="string">
    </restriction>
  </simpleType>

  <!--**********************************************************************-->
  <!-- A type to represent the trunk context parameters from the SIP        -->
  <!-- signaling.                                                           -->
  <!--**********************************************************************-->
  <simpleType name="TrunkContextType">
    <annotation>
      <documentation>Specifies the originating trunk context parameters from
        the SIP signaling.
      </documentation>
    </annotation>
    <restriction base="string">
    </restriction>
  </simpleType>

  <!--**********************************************************************-->
  <!-- A type to represent possible causes for concern about the contents   -->
  <!-- of a CDR.                                                            -->
  <!--**********************************************************************-->
  <simpleType name="ErrorType">
    <annotation>
      <documentation>The status of the information in a CDR.</documentation>
    </annotation>
    <restriction base="string">
      <enumeration value="no">
        <annotation>
          <documentation>There are no known issues with the data in the CDR.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="timing">
        <annotation>
          <documentation>The timing of events in the CDR is suspect. This may
            arise under certain misconfigurations (e.g. NTP not being used.)
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="short">
        <annotation>
          <documentation>The call duration was less than 500ms so probably
            represents the called party answering just as the calling
            party cleared the call. It may also arise in some misconfigurations
            when the network clears the call immediately after answer.
            </documentation>
        </annotation>
      </enumeration>
    </restriction>
  </simpleType>

  <!--**********************************************************************-->
  <!-- A type to represent the kind of call detailed in a CDR.              -->
  <!--**********************************************************************-->
  <simpleType name="CallTypeType">
    <annotation>
      <documentation>Specifies the kind of call.

        Note that not all call types are valid in all deployments and will
        depend the configuration of Number Validation.

        In particular, a number of these call types are specific to the North
        American Number Plan Area (NANPA) and are therefore specific to the
        Telcordia variant of call-services, rather than ETSI variant call
        services.
      </documentation>
    </annotation>
    <restriction base="string">
      <enumeration value="Local">
        <annotation>
          <documentation>A local call (valid ETSI and Telcordia)
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="National">
        <annotation>
          <documentation>A national call (valid ETSI only)
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="International">
        <annotation>
          <documentation>An international call (valid ETSI and Telcordia)
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="Unknown">
        <annotation>
          <documentation>The type of call is unknown (valid ETSI and Telcordia)
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="Broadband">
        <annotation>
          <documentation>A broadband (i.e. VoIP) call (valid ETSI only)
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="Corporate">
        <annotation>
          <documentation>A call to a corporate (i.e. non-geographic) number
             (valid ETSI only)
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="DirectoryAssistance">
        <annotation>
          <documentation>A call to a directory-assistance (enquiries) number
            (valid ETSI and Telcordia)
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="Emergency">
        <annotation>
          <documentation>A call to emergency services (valid ETSI and
            Telcordia)
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="LocalNonGeographic">
        <annotation>
          <documentation>A call to a non-geographic number which is charged at
            local rates (valid ETSI only)</documentation>
        </annotation>
      </enumeration>
      <enumeration value="Mobile">
        <annotation>
          <documentation>A call to a mobile number (valid ETSI only)
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="NationalNonGeographic">
        <annotation>
          <documentation>A call to a non-geographic number which is charged at
            national rates (valid ETSI only)
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="Operator">
        <annotation>
          <documentation>A call to operator-services (valid ETSI and Telcordia)
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="OtherCarrier">
        <annotation>
          <documentation>An indirect access call to another carrier (valid ETSI
            only)
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="Paging">
        <annotation>
          <documentation>A call to a paging service (valid ETSI only)
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="PersonalNumber">
        <annotation>
          <documentation>A call to a personal-number service (valid ETSI only)
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="Premium">
        <annotation>
          <documentation>A call to a non-geographic number which is charged at
            a premium rate (valid ETSI and Telcordia)
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="TollFree">
        <annotation>
          <documentation>A call to a non-geographic number which is not charged
            to the caller (valid ETSI and Telcordia)
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="Other">
        <annotation>
          <documentation>An unspecified other type of call (valid ETSI and
            Telcordia)
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="IntraLATA">
        <annotation>
          <documentation>A call within a LATA (valid Telcordia only)
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="InterLATANational">
        <annotation>
          <documentation>A national call between LATAs (valid Telcordia only)
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="InterLATAInternational">
        <annotation>
          <documentation>An international call between LATAs (valid Telcordia
            only)
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="OtherNonGeographic">
        <annotation>
          <documentation>A non-geographic call not fitting into the other
            categories (valid Telcordia only)
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="CarrierCutThrough">
        <annotation>
          <documentation>A carrier cut-through call (valid Telcordia only)
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="FeatureGroupB">
        <annotation>
          <documentation>A Feature Group B call (valid Telcordia only)
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="InternationalTollFree">
        <annotation>
          <documentation>A call to an international non-geographic number which
            is not charged to the caller (valid Telcordia only)
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="OtherN11">
        <annotation>
          <documentation>A call to an N11 service not fitting into one of the
            other categories (valid Telcordia only)
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="CorporateTollFree">
        <annotation>
          <documentation>A call to a non-geographic number representing a
            corporation which is not charged to the caller (valid ETSI only)
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="Repair">
        <annotation>
          <documentation>A call to a repair-service helpdesk within the
            network operator's business (valid Telcordia only)
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="ConferenceBridge">
        <annotation>
          <documentation>A call to a conference bridge (valid ETSI and
            Telcordia). This is a "pseudo-value" set by a service and not in
            Number Validation.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="ANIService">
        <annotation>
          <documentation>A call to a service that authorizes users to make
            calls based on their calling party number (e.g. indirect access
            services) (valid ETSI and Telcordia). This is a "pseudo-value" set
            by a service and not in Number Validation.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="CLASSFeature">
        <annotation>
          <documentation>A call that represents a CLASS service (valid ETSI and
            Telcordia). This is a "pseudo-value" set by a service and not in
            Number Validation.
          </documentation>
        </annotation>
      </enumeration>
    </restriction>
  </simpleType>

  <!--**********************************************************************-->
  <!-- A type to represent the ISUP Preference as signaled in the ISUP.     -->
  <!--**********************************************************************-->
  <simpleType name="ISUPPreferenceType">
    <annotation>
      <documentation>Specifies the end-to-end ISDN User Part Preference as
        signaled in the ISUP.

        Introduced: Version 1.0, Compatibility Level 2.
      </documentation>
    </annotation>
    <restriction base="unsignedByte">
      <maxInclusive value="3"/>
    </restriction>
  </simpleType>

  <!--**********************************************************************-->
  <!-- A type to represent the namespace for the Information Transfer       -->
  <!-- cCapability as signaled in the ISUP.                                 -->
  <!--**********************************************************************-->
  <simpleType name="InformationTransferCapabilityTypeType">
    <annotation>
      <documentation>Specifies the namespace for the Information Transfer
        Capability as signaled in the ISUP. Refer to Bearer Capability in
        Q.931.

        Introduced: Version 1.0, Compatibility Level 2.
      </documentation>
    </annotation>
    <restriction base="string">
      <enumeration value="itu">
        <annotation>
          <documentation>ITU-T standardized coding as specified in Q.931.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="iso">
        <annotation>
          <documentation>ISO/IEC Standard.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="national">
        <annotation>
          <documentation>National standard.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="network">
        <annotation>
          <documentation>Standard defined for the network (either public or
            private) present on the network side of the interface.
          </documentation>
        </annotation>
      </enumeration>
    </restriction>
  </simpleType>

  <!--**********************************************************************-->
  <!-- A type to represent point-codes as signaled in MTP3.                 -->
  <!--**********************************************************************-->
  <simpleType name="PointCodeType">
    <annotation>
      <documentation>Specifies the point-code of the remote switch as signaled
        in MTP3.

        Introduced: Version 1.0, Compatibility Level 2.
      </documentation>
    </annotation>
    <restriction base="cdr:TwentyFourBitValueType">
      <annotation>
        <documentation>24 bits in North America and 14 bits elsewhere. (No
          support for Japanese 16 bit values at present.)
        </documentation>
      </annotation>
    </restriction>
  </simpleType>

  <!--**********************************************************************-->
  <!-- A type to represent dotted-decimal IPv4 addresses.                   -->
  <!--**********************************************************************-->
  <simpleType name="IPv4AddressType">
    <annotation>
      <documentation>Specifies an IPv4 address in "dotted decimal" format.

        Introduced: Version 1.0, Compatibility Level 2.
      </documentation>
    </annotation>
    <restriction base="string">
      <pattern value="[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}"/>
    </restriction>
  </simpleType>

  <!--**********************************************************************-->
  <!-- A type to allow signalling peer addresses to be described.           -->
  <!--**********************************************************************-->
  <simpleType name="PeerAddressType">
    <annotation>
      <documentation>Specifies the signaling peer's address in the appropriate
        address space for the different signaling types.

        Introduced: Version 1.0, Compatibility Level 2.
      </documentation>
    </annotation>
    <union memberTypes="cdr:PointCodeType cdr:IPv4AddressType">
      <annotation>
        <documentation>Union of address types.
          </documentation>
      </annotation>
    </union>
  </simpleType>

  <!--**********************************************************************-->
  <!-- A type to specify the address space used by a signalling peer.       -->
  <!--**********************************************************************-->
  <simpleType name="PeerTypeType">
    <annotation>
      <documentation>Specifies the address space used by a signaling peer.

        Introduced: Version 1.0, Compatibility Level 2.
      </documentation>
    </annotation>
    <restriction base="string">
      <enumeration value="pc">
        <annotation>
          <documentation>The address space is MTP3 point-codes.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="ipv4">
        <annotation>
          <documentation>The address space is IPv4.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="ipv6">
        <annotation>
          <documentation>The address space is IPv6.
          </documentation>
        </annotation>
      </enumeration>
    </restriction>
    </simpleType>

  <!--**********************************************************************-->
  <!-- A type to specify the role of a signalling peer.                     -->
  <!--**********************************************************************-->
  <simpleType name="PeerRoleType">
    <annotation>
      <documentation>Specifies the role fulfilled by the signaling peer.

        Introduced: Version 1.0, Compatibility Level 2.
      </documentation>
    </annotation>
    <restriction base="string">
      <enumeration value="orig">
        <annotation>
          <documentation>The originating signaling peer.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="term">
        <annotation>
          <documentation>The terminating signaling peer.
          </documentation>
        </annotation>
      </enumeration>
    </restriction>
    </simpleType>

  <!--**********************************************************************-->
  <!-- A type to represent the kind of event represented in an event CDR.   -->
  <!--**********************************************************************-->
  <simpleType name="FeatureType">
    <annotation>
      <documentation>Specifies the feature that caused the event to be raised
        or a feature that was invoked during a call.

        These values correspond to the Service Feature Codes and CLASS Feature
        Codes defined in GR-1100-CORE and present in Table 12 and Table 415
        respectively of the BAF billing files.

        Note that these values are used irrespective of whether the Telcordia
        or ETSI service variant is in use.
        </documentation>
    </annotation>
    <restriction base="string">
      <enumeration value="ArReactivationDelaySetup">
        <annotation>
          <documentation>Automatic Recall reactivation: delayed processing
            resulting in attempted call setup.
            CLASS Feature Code (see Table 415, GR-1100-CORE) 32
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="AcReactivationDelaySetup">
        <annotation>
          <documentation>Automatic Callback reactivation: delayed processing
            resulting in attempted call setup.
            CLASS Feature Code (see Table 415, GR-1100-CORE) 33
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="ArReactivationBusyRingback">
        <annotation>
          <documentation>Automatic Recall reactivation: Busy ringback; no
            resumption of scanning.
            CLASS Feature Code (see Table 415, GR-1100-CORE) 34
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="AcReactivationBusyRingback">
        <annotation>
          <documentation>Automatic Callback reactivation: Busy ringback; no
            resumption of scanning.
            CLASS Feature Code (see Table 415, GR-1100-CORE) 35
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="ArReactivationDelayTimeout">
        <annotation>
          <documentation>Automatic Recall reactivation: delayed processing
            resulting in timeout.
            CLASS Feature Code (see Table 415, GR-1100-CORE) 36
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="AcReactivationDelayTimeout">
        <annotation>
          <documentation>Automatic Callback reactivation: delayed processing
            resulting in timeout.
            CLASS Feature Code (see Table 415, GR-1100-CORE) 37
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="ArReactivationDelayCust">
        <annotation>
          <documentation>Automatic Recall reactivation: delayed processing
            ended by customer deactivation or extended by reactivation.
            CLASS Feature Code (see Table 415, GR-1100-CORE) 38
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="AcDeactivation">
        <annotation>
          <documentation>Automatic Callback Deactivation: delayed processing
            ended by customer deactivation.
            CLASS Feature Code (see Table 415, GR-1100-CORE) 39
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="SelectiveCallForwarding">
        <annotation>
          <documentation>Selective Call Forwarding.
            CLASS Feature Code (see Table 415, GR-1100-CORE) 52
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="AnonCallRejectActivation">
        <annotation>
          <documentation>Anonymous Call Rejection: Activation.
            CLASS Feature Code (see Table 415, GR-1100-CORE) 57
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="AnonCallRejectDeactivation">
        <annotation>
          <documentation>Anonymous Call Rejection: deactivation.
            CLASS Feature Code (see Table 415, GR-1100-CORE) 58
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="AnonCallRejectContinuation">
        <annotation>
          <documentation>Anonymous Call Rejection: continuation.
            CLASS Feature Code (see Table 415, GR-1100-CORE) 59
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="ArActivationImmed">
        <annotation>
          <documentation>Automatic Recall activation: delayed processing
            resulting in attempted call setup.
            CLASS Feature Code (see Table 415, GR-1100-CORE) 60
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="AcActivationImmed">
        <annotation>
          <documentation>Automatic Callback activation: delayed processing
            resulting in attempted call setup.
            CLASS Feature Code (see Table 415, GR-1100-CORE) 61
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="ArActivationDelaySetup">
        <annotation>
          <documentation>Automatic Recall activation: delayed processing
            resulting in attempted call setup.
            CLASS Feature Code (see Table 415, GR-1100-CORE) 62
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="AcActivationDelaySetup">
        <annotation>
          <documentation>Automatic Callback activation: delayed processing
            resulting in attempted call setup.
            CLASS Feature Code (see Table 415, GR-1100-CORE) 63
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="ArActivationBusyRingback">
        <annotation>
          <documentation>Automatic Recall activation: Busy ringback; no
            resumption of scanning.
            CLASS Feature Code (see Table 415, GR-1100-CORE) 64
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="AcActivationBusyRingback">
        <annotation>
          <documentation>Automatic Callback activation: Busy ringback; no
            resumption of scanning.
            CLASS Feature Code (see Table 415, GR-1100-CORE) 65
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="ArActivationDelayTimeout">
        <annotation>
          <documentation>Automatic Recall activation: delayed processing
            resulting in timeout.
            CLASS Feature Code (see Table 415, GR-1100-CORE) 66
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="AcActivationDelayTimeout">
        <annotation>
          <documentation>Automatic Callback activation: delayed processing
            resulting in timeout.
            CLASS Feature Code (see Table 415, GR-1100-CORE) 67
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="ArActivationDelayCust">
        <annotation>
          <documentation>Automatic Recall activation: delayed processing ended
            by customer deactivation or extended by reactivation.
            CLASS Feature Code (see Table 415, GR-1100-CORE) 68
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="AcReactivationDelayCust">
        <annotation>
          <documentation>Automatic Callback Reactivation: delayed processing
            extended by reactivation.
            CLASS Feature Code (see Table 415, GR-1100-CORE) 69
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="CustomerOriginatedTraceActivation">
        <annotation>
          <documentation>Customer Originated Trace activation.
            CLASS Feature Code (see Table 415, GR-1100-CORE) 70
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="SelectiveCallRejection">
        <annotation>
          <documentation>Selective Call Rejection.
            CLASS Feature Code (see Table 415, GR-1100-CORE) 72
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="DistinctiveRingingCallWaiting">
        <annotation>
          <documentation>Distinctive Ringing / Call Waiting.
            CLASS Feature Code (see Table 415, GR-1100-CORE) 73
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="ScreeningListEditingDailyContRecord">
        <annotation>
          <documentation>Screening List Editing daily continuation record.
            CLASS Feature Code (see Table 415, GR-1100-CORE) 74
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="CallingNumDeliveryBlockingActivation">
        <annotation>
          <documentation>Calling Number Delivery Blocking activation.
            CLASS Feature Code (see Table 415, GR-1100-CORE) 75
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="SelectiveCallAcceptance">
        <annotation>
          <documentation>Selective Call Acceptance.
            CLASS Feature Code (see Table 415, GR-1100-CORE) 79
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="CallingNumberDelivery">
        <annotation>
          <documentation>Calling Number Delivery.
            CLASS Feature Code (see Table 415, GR-1100-CORE) 80
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="CallingNameDelivery">
        <annotation>
          <documentation>Calling Name Delivery.
            CLASS Feature Code (see Table 415, GR-1100-CORE) 82
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="BulkCallingLineIdentification">
        <annotation>
          <documentation>Bulk Calling Line Identification.
            CLASS Feature Code (see Table 415, GR-1100-CORE) 84
            CLASS Feature Code (see Table 415, GR-1100-CORE)
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="CallingIdentityDeliveryAndSuppression">
        <annotation>
          <documentation>Calling Identity Delivery and Suppression.
            CLASS Feature Code (see Table 415, GR-1100-CORE) 85
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="CallingNameDeliveryBlocking">
        <annotation>
          <documentation>Calling Name Delivery Blocking.
            CLASS Feature Code (see Table 415, GR-1100-CORE) 86
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="CNDandCNAM">
        <annotation>
          <documentation>CND and CNAM (both assigned).
            CLASS Feature Code (see Table 415, GR-1100-CORE) 87
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="CallWaitingDeluxe">
        <annotation>
          <documentation>Call Waiting Deluxe.
            CLASS Feature Code (see Table 415, GR-1100-CORE) 89
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="ARStage1">
        <annotation>
          <documentation>Automatic Recall: Completion of the first stage of
            two stage AR.
            CLASS Feature Code (see Table 415, GR-1100-CORE) 95
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="BurstCall">
        <annotation>
          <documentation>Burst Call.
            CLASS Feature Code (see Table 415, GR-1100-CORE) 200
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="NoFeature">
        <annotation>
          <documentation>No service feature.
            Service Feature Code (see Table 12, GR-1100-CORE) 0
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="ThreeWayCall">
        <annotation>
          <documentation>Three way call.
            Service Feature Code (see Table 12, GR-1100-CORE) 10
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="UnconditionalOrSelectiveCallForwarding">
        <annotation>
          <documentation>Unconditional or Selective Call forwarding.
            Service Feature Code (see Table 12, GR-1100-CORE) 12
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="BusyOrDelayedCallForwarding">
        <annotation>
          <documentation>Busy or delayed call forwarding.
            Service Feature Code (see Table 12, GR-1100-CORE) 14
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="UsageSensitiveThreeWayCall">
        <annotation>
          <documentation>Usage sensitive three way call.
            Service Feature Code (see Table 12, GR-1100-CORE) 18
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="DefaultAINServiceFeature">
        <annotation>
          <documentation>Default AIN service feature.
            Service Feature Code (see Table 12, GR-1100-CORE) 27
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="WakeupAlarmActivation">
        <annotation>
          <documentation>Wakeup alarm activation.
            Service Feature Code (see Table 12, GR-1100-CORE) 31
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="UsageSensitiveCallForwarding">
        <annotation>
          <documentation>Usage sensitive call forwarding.
            Service Feature Code (see Table 12, GR-1100-CORE) 49
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="UsageSensitiveCallWaiting">
        <annotation>
          <documentation>Usage sensitive call waiting (vendor specific).
            Service Feature Code (see Table 12, GR-1100-CORE) 50
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="CallDeliveryToCallWaiting">
        <annotation>
          <documentation>Call delivery to call waiting (vendor specific).
            Service Feature Code (see Table 12, GR-1100-CORE) 83
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="LastCallReturn">
        <annotation>
          <documentation>Last call return.
            Service Feature Code (see Table 12, GR-1100-CORE) 154
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="CallContentChannel">
        <annotation>
          <documentation>Call Content Channel: this is a vendor-specific
            service feature code used for Call Content Channels.
            Service Feature Code (see Table 12, GR-1100-CORE) 800
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="LineHunting">
        <annotation>
          <documentation>Line hunting: this is a vendor-specific service
            feature code use when a service provider configures the switch to
            do so, to make it easier not to bill subscribers for line hunting.
            Service Feature Code (see Table 12, GR-1100-CORE) 801
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="FMFM">
        <annotation>
          <documentation>Find-Me Follow-Me: this is a vendor-specific service
            feature code used to bill subscribers for FMFM.
            Service Feature Code (see Table 12, GR-1100-CORE) 802
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="Monitor">
        <annotation>
          <documentation>This is a vendor-specific service feature code used
            to identify a call where a subscriber has dialed the monitor
            access code.
            Service Feature Code (see Table 12, GR-1100-CORE) 802
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="Whisper">
        <annotation>
          <documentation>This is a vendor-specific service feature code used
            to identify a call where a subscriber has dialed the whisper
            access code.
            Service Feature Code (see Table 12, GR-1100-CORE) 802
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="BargeIn">
        <annotation>
          <documentation>This is a vendor-specific service feature code used
            to identify a call where a subscriber has dialed the barge-in
            access code.
            Service Feature Code (see Table 12, GR-1100-CORE) 802
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="UnconditionalCallForwarding">
        <annotation>
          <documentation>Unconditional forwarding: used to distinguish between
            the two scenarios in the Telcordia Service Feature Code 12 (see
            Table 12, GR-1100-CORE).
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="SelectiveCallForwarding">
        <annotation>
          <documentation>Selective Call forwarding: used to distinguish between
            the two scenarios in the Telcordia Service Feature Code 12 (see
            Table 12, GR-1100-CORE).
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="BusyCallForwarding">
        <annotation>
          <documentation>Busy call forwarding: used to distinguish between
            the two scenarios in the Telcordia Service Feature Code 14 (see
            Table 12, GR-1100-CORE).
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="DelayedCallForwarding">
        <annotation>
          <documentation>Delayed call forwarding: used to distinguish between
            the two scenarios in the Telcordia Service Feature Code 14 (see
            Table 12, GR-1100-CORE).
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="MandatoryAccountCode">
        <annotation>
          <documentation>The user provided an Account Code in order to
            authenticate themselves to the ANI screening / Mandatory Account
            Codes service.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="CallBarringActivate">
        <annotation>
          <documentation>Call barring activation.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="CallBarringDeactivate">
        <annotation>
          <documentation>Call barring deactivation.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="LegPartOfForwardedCall">
        <annotation>
          <documentation>The leg was part of a forwarded call. In a forwarding
            scenario where A called B who forwarded the call to C, this element
            will appear in the CDRs for both the A-B and B-C legs of the call.
            The downstream billing systems can disambiguate which leg of the
            call is being referred to by the presence in the B-C CDR of another
            &lt;Feature> element specifying the forwarding reason.

            Introduced: Version 1.0, Compatibility Level 2.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="ReminderCall">
        <annotation>
           <documentation>Reminder call.

             Introduced: Version 1.0, Compatibility Level 6.
           </documentation>
        </annotation>
      </enumeration>
    </restriction>
  </simpleType>

  <!--**********************************************************************-->
  <!-- A type to represent a Mandatory Account Code entered by a user       -->
  <!--**********************************************************************-->
  <simpleType name="AccountCodeInfoType">
    <annotation>
      <documentation>Specifies an account-code entered by a user to
        authenticate themselves to the ANI screening / Mandatory Account Codes
        service.
      </documentation>
    </annotation>
    <restriction base="string">
      <minLength value="1"></minLength>
      <maxLength value="15"></maxLength>
      <pattern value="\d+">
        <annotation>
          <documentation>Account Codes comprise from 1 to 15 digits.
          </documentation>
        </annotation>
      </pattern>
    </restriction>
  </simpleType>

  <!--**********************************************************************-->
  <!-- A type to represent which party was responsible for releasing the    -->
  <!-- call.                                                                -->
  <!--**********************************************************************-->
  <simpleType name="ReleasingPartyType">
    <annotation>
      <documentation>Specifies which party was responsible for the release of a
        call.
      </documentation>
    </annotation>
    <restriction base="string">
      <enumeration value="Orig">
        <annotation>
          <documentation>The originating party was responsible for the call
            clearing.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="Term">
        <annotation>
          <documentation>The terminating party was responsible for the call
            clearing.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="Network">
        <annotation>
          <documentation>The network was responsible for the call clearing.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="User">
        <annotation>
          <documentation>A user was responsible for the call clearing, but it
            was not possible to tell whether it was the originating or
            terminating party.
          </documentation>
        </annotation>
      </enumeration>
    </restriction>
  </simpleType>

  <!--**********************************************************************-->
  <!-- A type to represent codec type.                                      -->
  <!--**********************************************************************-->
  <simpleType name="CodecType">
    <annotation>
      <documentation>
        Specifies the codec used on this call.
      </documentation>
    </annotation>
    <restriction base="string">
      <enumeration value="G711U">
        <annotation>
          <documentation>G711 mu-law codec.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="G711A">
        <annotation>
          <documentation>G711 a-law codec.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="G726">
        <annotation>
          <documentation>G726 codec.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="G729">
        <annotation>
          <documentation>G729 codec.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="G722/8000">
        <annotation>
          <documentation>G722 8kHz codec
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="AMR-WB/16000">
        <annotation>
          <documentation>AMR wide-band 16kHz codec.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="AMR/8000">
        <annotation>
          <documentation>AMR narrow-band 8kHz codec.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="EVRC0/8000">
        <annotation>
          <documentation>EVRC0 8kHz codec.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="EVRC/8000">
        <annotation>
          <documentation>EVRC 8kHz codec.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="EVRCB/8000">
        <annotation>
          <documentation>EVRC annex B 8kHz codec.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="EVRCB0/8000">
        <annotation>
          <documentation>EVRC annex B 0 8kHz codec.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="iLBC/8000">
        <annotation>
          <documentation>iLBC 8kHz codec.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="GSM-HR-08/8000">
        <annotation>
          <documentation>GSM HR 8kHz codec.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="GSM/8000">
        <annotation>
          <documentation>GSM 8kHz codec.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="GSM-EFR/8000">
        <annotation>
          <documentation>GSM-EFR 8kHz codec.
          </documentation>
        </annotation>
      </enumeration>
    </restriction>
  </simpleType>

  <!--**********************************************************************-->
  <!-- A type to represent Codecs.                                          -->
  <!--**********************************************************************-->
  <complexType name="CodecsType">
    <annotation>
      <documentation>Defines up to the first 10 codecs used on the call.

          Introduced: Version 1.0, Compatibility Level 8.
      </documentation>
    </annotation>
    <sequence>
      <element name="Codec" type="cdr:CodecType"
               minOccurs="0" maxOccurs="10">
        <annotation>
          <documentation>A codec used by the call.
          </documentation>
        </annotation>
      </element>
    </sequence>
  </complexType>

  <!--**********************************************************************-->
  <!-- A type to represent the identity of a carrier used for a call.       -->
  <!--**********************************************************************-->
  <simpleType name="CarrierIdType">
    <annotation>
      <documentation>Specifies the identity of a carrier selected for this
        call.
      </documentation>
    </annotation>
    <restriction base="unsignedLong">
      <minInclusive value="0"/>
      <maxInclusive value="9999"/>
    </restriction>
  </simpleType>

  <!--**********************************************************************-->
  <!-- A type to represent the tariff plan that a user is on.               -->
  <!--**********************************************************************-->
  <simpleType name="MessageBillingIndexType">
    <annotation>
      <documentation>Specifies the identity of a tariff plan selected for this
        call during Number Validation.
      </documentation>
    </annotation>
    <restriction base="unsignedLong">
      <minInclusive value="0"/>
      <maxInclusive value="999"/>
    </restriction>
  </simpleType>

  <!--**********************************************************************-->
  <!-- A type to represent carrier-selection methods.                       -->
  <!--**********************************************************************-->
  <simpleType name="SelectionMethodType">
    <annotation>
      <documentation>Specifies the method used to select a Carrier.
      </documentation>
    </annotation>
    <restriction base="string">
      <enumeration value="CacDialed">
        <annotation>
          <documentation>The subscriber dialled a Carrier Access Code.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="CustPresubscribed">
        <annotation>
          <documentation>The subscriber is pre-subscribed to the Carrier.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="NetworkDefault">
        <annotation>
          <documentation>The Carrier is a network-wide default for this type of
            call.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="CustPresubIndSent">
        <annotation>
          <documentation>The carrier to be selected was indicated in the
            signaling.
          </documentation>
        </annotation>
      </enumeration>
    </restriction>
  </simpleType>

  <!--**********************************************************************-->
  <!-- A type to indicate whether the Carrier's operator was involved.      -->
  <!--**********************************************************************-->
  <simpleType name="CarrierOperatorType">
    <annotation>
      <documentation>Specifies whether the Operator in the Carrier network was
      involved in the call.
      </documentation>
    </annotation>
    <restriction base="string">
      <enumeration value="False">
        <annotation>
          <documentation>The Carrier's operator was not involved.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="True">
        <annotation>
          <documentation>The Carrier's operator was involved.
          </documentation>
        </annotation>
      </enumeration>
    </restriction>
  </simpleType>

  <!--**********************************************************************-->
  <!-- A type to represent which party the Number Portability information   -->
  <!-- relates to.                                                          -->
  <!--**********************************************************************-->
  <simpleType name="NpPartyType">
    <annotation>
      <documentation>Specifies which party the Number Portability information
        relates to.</documentation>
    </annotation>
    <restriction base="string">
      <enumeration value="orig">
        <annotation>
          <documentation>The NP information relates to the originating party.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="term">
        <annotation>
          <documentation>The NP information relates to the terminating party.
          </documentation>
        </annotation>
      </enumeration>
    </restriction>
  </simpleType>

  <!--**********************************************************************-->
  <!-- A type to represent the source of the Number Portability information.-->
  <!--**********************************************************************-->
  <simpleType name="NpSourceType">
    <annotation>
      <documentation>Specifies the source of this Number Portability
        information.
      </documentation>
    </annotation>
    <restriction base="string">
      <enumeration value="Query">
        <annotation>
          <documentation>The Number Portability information came from an LNP
            query.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="Switch">
        <annotation>
          <documentation>The Number Portability information came from LNP
            information configured on the switch.</documentation>
        </annotation>
      </enumeration>
      <enumeration value="Signaling">
        <annotation>
          <documentation>The Number Portability information came from
            signaling.
          </documentation>
        </annotation>
      </enumeration>
    </restriction>
  </simpleType>

  <!--**********************************************************************-->
  <!-- A type to represent the status of a Long Duration Call record        -->
  <!--**********************************************************************-->
  <simpleType name="LdrStatusType">
    <annotation>
      <documentation>Specifies the status of the information about a long
        duration call in this CDR.
      </documentation>
    </annotation>
    <restriction base="string">
      <enumeration value="FirstLDR">
        <annotation>
          <documentation>The long duration call record is the first generated
            for this call.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="IntermediateLDR">
        <annotation>
          <documentation>The long duration call record is the second or
            subsequent generated for this call.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="LastLDR">
        <annotation>
          <documentation>The long duration call record is the last generated
            for this call and represents the call termination.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="NoLDR">
        <annotation>
          <documentation>This is not a long duration call record. This value
            should not be seen in CDRs.
          </documentation>
        </annotation>
      </enumeration>
    </restriction>
  </simpleType>

  <!--**********************************************************************-->
  <!-- A type to represent AMAslpID values in AIN deployments               -->
  <!--**********************************************************************-->
  <simpleType name="ServiceLogicIdType">
    <annotation>
      <documentation>Identifies the Service Logic that handled the call.
        This element contains the AMAslpID as defined in GR-2892-CORE and
        GR-1100-CORE. Only applicable to North American AIN deployments.
      </documentation>
    </annotation>
    <restriction base="unsignedLong">
      <minInclusive value="0"/>
      <maxInclusive value="999999999"/>
    </restriction>
  </simpleType>

  <!--**********************************************************************-->
  <!-- A type to represent why a call was diverted                          -->
  <!--**********************************************************************-->
  <simpleType name="RedirectReasonType">
    <annotation>
      <documentation>Specifies the reason why a call was diverted.
      </documentation>
    </annotation>
    <restriction base="string">
      <enumeration value="Unknown">
        <annotation>
          <documentation>The reason why the call was diverted is not known.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="UserBusy">
        <annotation>
          <documentation>The call was diverted because the called party was
            busy.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="NoReply">
        <annotation>
          <documentation>The call was diverted because the called party was
            unable to answer the call.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="Unconditional">
        <annotation>
          <documentation>The call was diverted because the called party had
            requested that all calls should be diverted.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="Deflection">
        <annotation>
          <documentation>The call was diverted because the called party
            rejected the call after it was presented.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="FollowMe">
        <annotation>
          <documentation>The call was diverted because the called party has
            A FollowMe service active.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="FaxTransfer">
        <annotation>
          <documentation>The call was diverted because the called party has
            requested that fax calls are diverted.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="MobileTransfer">
        <annotation>
          <documentation>The call was diverted because the called party has
            requested that mobile calls are diverted.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="NotReachable">
        <annotation>
          <documentation>The call was diverted because the called party was
            not reachable.

            Introduced: Version 1.0, Compatibility Level 7.
          </documentation>
        </annotation>
      </enumeration>
    </restriction>
  </simpleType>

  <!--**********************************************************************-->
  <!-- A type to represent the type of basic call state model               -->
  <!--**********************************************************************-->
  <simpleType name="BCSMType">
    <annotation>
      <documentation>The type of basic call state model.
      </documentation>
    </annotation>
    <restriction base="string">
      <enumeration value="orig">
        <annotation>
          <documentation>The originating basic call state model.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="term">
        <annotation>
          <documentation>The terminating basic call state model.
          </documentation>
        </annotation>
      </enumeration>
    </restriction>
  </simpleType>

  <!--**********************************************************************-->
  <!-- A type to represent the SIP Call-ID.                                 -->
  <!--**********************************************************************-->
  <simpleType name="SIPCallIdType">
    <annotation>
      <documentation>This value represents the Call-ID for the originating
        or terminating branch of the call provided in the SIP signaling, if
        available.

        Introduced: Version 1.0, Compatibility Level 2.
      </documentation>
    </annotation>
    <restriction base="string">
      <minLength value="0"/>
      <maxLength value="2000"/>
    </restriction>
  </simpleType>

  <!--**********************************************************************-->
  <!-- A type to represent a port number.                                   -->
  <!--**********************************************************************-->
  <simpleType name="PortType">
    <annotation>
      <documentation>This type represents a port number.

        Introduced: Version 1.0, Compatibility Level 8.
      </documentation>
    </annotation>
    <restriction base="unsignedShort">
    </restriction>
  </simpleType>

  <!--**********************************************************************-->
  <!-- A type to represent a signaling variant attribute.                   -->
  <!--**********************************************************************-->
  <simpleType name="SignalingVariantType">
    <annotation>
      <documentation>Gives more detail about the call's signaling type.  For
        example, if the call uses ISUP, SIP-I or SIP-T, this will show the
        variant of ISUP used (e.g. ITU-T 1997) along with whether SIP-I/T was
        used.

        Introduced: Version 1.0, Compatibility Level 8.
      </documentation>
    </annotation>
    <restriction base="string">
    </restriction>
  </simpleType>

  <!--**********************************************************************-->
  <!-- A type to represent the Signaling type.  This is extended later.     -->
  <!--**********************************************************************-->
  <simpleType name="SignalingTypeBasicType">
    <annotation>
      <documentation>This indicates the type of signaling used.

        Introduced: Version 1.0, Compatibility Level 8.
      </documentation>
    </annotation>
    <restriction base="string">
      <enumeration value="ISUP">
        <annotation>
          <documentation>The signaling type is ISUP.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="Basic SIP">
        <annotation>
          <documentation>The signaling type is Basic SIP, i.e. not SIP-T or
            SIP-I.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="SIP-T">
        <annotation>
          <documentation>The signaling type is SIP-T.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="SIP-I">
        <annotation>
          <documentation>The signaling type is SIP-I.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="SIP unknown type">
        <annotation>
          <documentation>The signaling type is SIP, of an unknwon type.
          </documentation>
        </annotation>
      </enumeration>
    </restriction>
  </simpleType>

  <!--**********************************************************************-->
  <!-- A type to represent the compatibility level of the schema.           -->
  <!--**********************************************************************-->
  <simpleType name="SchemaCompatibilityType">
    <annotation>
      <documentation>This value represents the compatibility level within a
        version of the schema namespace and enables tools to modify their
        behavior based on schema contents without breaking formal validation
        of the files.

        For the rules on when the compatibility level will be stepped, refer to
        the documentation element of the schema itself.

        For the actual content of each of the schema versions, refer to the
        documentation of the &lt;File> element.

        Introduced: Version 1.0, Compatibility Level 2.
      </documentation>
    </annotation>
    <restriction base="unsignedInt">
    </restriction>
  </simpleType>

  <!--**********************************************************************-->
  <!-- A type to indicate how to interpret the customer code which can      -->
  <!-- currently be german-ukk or unknown.                                  -->
  <!--**********************************************************************-->
  <simpleType name="CustomerCodeTypeType">
    <annotation>
      <documentation>Specifies how to interpret a customer code.

        Introduced: Version 1.0, Compatibility Level 2.
      </documentation>
    </annotation>
    <restriction base="string">
      <enumeration value="german-ukk">
        <annotation>
          <documentation>The customer code is a German ISUP np.ukk value. (see
            163TR76 V3.0)
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="unknown">
        <annotation>
          <documentation>The customer code is of an unknown type.
          </documentation>
        </annotation>
      </enumeration>
    </restriction>
  </simpleType>

  <!--**********************************************************************-->
  <!-- A type to represent the german-ukk customer code Service.            -->
  <!--**********************************************************************-->
  <simpleType name="GermanUKKServiceType">
    <annotation>
      <documentation>This value represents the customer code service in a
        german-ukk customer code. The value is taken from the German ISUP
        np.ukk parameter (Octet 3).

        Introduced: Version 1.0, Compatibility Level 2.
      </documentation>
    </annotation>
    <restriction base="unsignedByte"/>
  </simpleType>

  <!--**********************************************************************-->
  <!-- A type to represent the unknown customer code service.               -->
  <!--**********************************************************************-->
  <simpleType name="CustomerCodeUnknownServiceType">
    <annotation>
      <documentation>This value represents the customer code service in a
        unknown type of customer code.

        Introduced: Version 1.0, Compatibility Level 2.
      </documentation>
    </annotation>
    <restriction base="unsignedByte"/>
  </simpleType>

  <!--**********************************************************************-->
  <!-- A type to represent the customer code service.                       -->
  <!--**********************************************************************-->
  <simpleType name="CustomerCodeServiceType">
    <annotation>
      <documentation>The customer code service for this call.

        Introduced: Version 1.0, Compatibility Level 2.
      </documentation>
    </annotation>
    <union memberTypes="cdr:GermanUKKServiceType
                        cdr:CustomerCodeUnknownServiceType">
      <annotation>
        <documentation>The customer code service may be a German-UKK
          (GermanUKKServiceType) or an unknown customer code
          (CustomerCodeUnknownServiceType).
        </documentation>
      </annotation>
    </union>
  </simpleType>

  <!--**********************************************************************-->
  <!-- A type to represent the german-ukk customer code qualifier.          -->
  <!--**********************************************************************-->
  <simpleType name="GermanUKKQualifierType">
    <annotation>
      <documentation>This value represents the customer code qualifier in a
        german-ukk customer code. The value is taken from the German ISUP
        np.ukk parameter (bits A-E Octet 1).

        Introduced: Version 1.0, Compatibility Level 2.
      </documentation>
    </annotation>
    <restriction base="cdr:FiveBitValueType"/>
  </simpleType>

  <!--**********************************************************************-->
  <!-- A type to represent the unknown customer code qualifier.             -->
  <!--**********************************************************************-->
  <simpleType name="CustomerCodeUnknownQualifierType">
    <annotation>
      <documentation>This value represents the customer code qualifier in a
        unknown type of customer code.

        Introduced: Version 1.0, Compatibility Level 2.
      </documentation>
    </annotation>
    <restriction base="unsignedByte"/>
  </simpleType>

  <!--**********************************************************************-->
  <!-- A type to represent the customer code qualifier.                     -->
  <!--**********************************************************************-->
  <simpleType name="CustomerCodeQualifierType">
    <annotation>
      <documentation>The customer code qualifier for this call.

        Introduced: Version 1.0, Compatibility Level 2.
      </documentation>
    </annotation>
    <union memberTypes="cdr:GermanUKKQualifierType
                        cdr:CustomerCodeUnknownQualifierType">
      <annotation>
        <documentation>The customer code qualifier may be a German-UKK
          (GermanUKKQualifierType) or an unknown customer code
          (CustomerCodeUnknownQualifierType).
        </documentation>
      </annotation>
    </union>
  </simpleType>

  <!--**********************************************************************-->
  <!-- A type to german-ukk customer id.                                    -->
  <!--**********************************************************************-->
  <simpleType name="GermanUKKValueType">
    <annotation>
      <documentation>This value represents the customer ID in the German ISUP
        np.ukk parameter.

        Introduced: Version 1.0, Compatibility Level 2.
      </documentation>
    </annotation>
    <restriction base="unsignedLong">
      <minInclusive value="0"></minInclusive>
      <maxInclusive value="16383"></maxInclusive>
    </restriction>
  </simpleType>

  <!--**********************************************************************-->
  <!-- A type to represent an unknown customer code.                        -->
  <!--**********************************************************************-->
  <simpleType name="CustomerCodeUnknownValueType">
    <annotation>
      <documentation>This value represents the unknown type of Customer Code.

        Introduced: Version 1.0, Compatibility Level 2.
      </documentation>
    </annotation>
    <restriction base="string"/>
  </simpleType>

  <!--**********************************************************************-->
  <!-- A type to represent the customer code value.                         -->
  <!--**********************************************************************-->
  <simpleType name="CustomerCodeValueType">
    <annotation>
      <documentation>The customer code value for this call.

        Introduced: Version 1.0, Compatibility Level 2.
      </documentation>
    </annotation>
    <union memberTypes="cdr:GermanUKKValueType
                        cdr:CustomerCodeUnknownValueType">
      <annotation>
        <documentation>The customer code value may be a German-UKK
          (GermanUKKValueType) or an unknown customer code
          (CustomerCodeUnknownValueType).
        </documentation>
      </annotation>
    </union>
  </simpleType>

  <!--**********************************************************************-->
  <!-- A type to indicate how to interpret the calling party category.      -->
  <!--**********************************************************************-->
  <simpleType name="CallingPartyCategoryType">
    <annotation>
      <documentation>Specifies how to interpret the calling party category.

        Introduced: Version 1.0, Compatibility Level 3.
      </documentation>
    </annotation>
    <restriction base="string">
      <enumeration value="unknown">
        <annotation>
          <documentation>The category is Unknown as defined in ITU-T Q.763.
            See http://www.itu.int/rec/T-REC-Q.763
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="normal">
        <annotation>
          <documentation>The category is Ordinary Calling Subscriber as defined
            in ITU-T Q.763.
            See http://www.itu.int/rec/T-REC-Q.763
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="priority">
        <annotation>
          <documentation>The category is Calling Subscriber with Priority as
            defined in ITU-T Q.763.
            See http://www.itu.int/rec/T-REC-Q.763
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="operator">
        <annotation>
          <documentation>The category is Operator Call as defined in ITU-T
            Q.763. See http://www.itu.int/rec/T-REC-Q.763
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="payphone">
        <annotation>
          <documentation>The category is Payphone as defined in ITU-T Q.763.
            See http://www.itu.int/rec/T-REC-Q.763
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="test call">
        <annotation>
          <documentation>The category is Test Call as defined in ITU-T Q.763.
            See http://www.itu.int/rec/T-REC-Q.763
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="emergency">
        <annotation>
          <documentation>The category is Emergency service call as defined in
            ANSI T1.113.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="priority emergency">
        <annotation>
          <documentation>The category is Emergency (High Priority) service call
            as defined in ANSI T1.113
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="ns/ep call">
        <annotation>
          <documentation>The category is National Security and Emergency
            Preparedness (NS/EP) service call as defined in ANSI T1.113 and
            GR-2931. This category is used for priority users during GETS
            working in North America.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="oss operator">
        <annotation>
          <documentation>The category is OSS Operator as defined in ND1007.
            See http://www.niccstandards.org.uk/files/current/nd1007_2007_01.pdf?type=pdf
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="admin diversion - normal">
        <annotation>
          <documentation>The category is Admin Diversion - Ordinary as defined
            in ND1007.
            See http://www.niccstandards.org.uk/files/current/nd1007_2007_01.pdf?type=pdf
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="admin diversion - priority">
        <annotation>
          <documentation>The category is Admin Diversion - Ordinary with
            Priority as defined in ND1007.
            See http://www.niccstandards.org.uk/files/current/nd1007_2007_01.pdf?type=pdf
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="admin diversion - payphone">
        <annotation>
          <documentation>The category is Admin Diversion - Payphone as defined
            in ND1007.
            See http://www.niccstandards.org.uk/files/current/nd1007_2007_01.pdf?type=pdf
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="admin diversion - payphone priority">
        <annotation>
          <documentation>The category is Admin Diversion - Payphone with
            Priority as defined in ND1007.
            See http://www.niccstandards.org.uk/files/current/nd1007_2007_01.pdf?type=pdf
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="other">
        <annotation>
          <documentation>The category is unrecognised.
            The Metasphere CFS also interprets a Data call as defined in ITU-T
            Q.763 as other.
            See http://www.itu.int/rec/T-REC-Q.763
          </documentation>
        </annotation>
      </enumeration>
    </restriction>
  </simpleType>

  <!--**********************************************************************-->
  <!-- A type to represent ANI-II Digits.                                   -->
  <!--**********************************************************************-->
  <simpleType name="ANI-IIType">
    <annotation>
      <documentation>Specifies the Automatic Number Identification (ANI) II
        digits. These are not dialled by telephone subscribers. Rather, ANI II
        digits are two-digit pairs sent with the originating telephone number
        as part of the signaling that takes place during the setup phase of
        the call. These digits identify the type of originating station.
        The ANI-II value for a subscriber can be configured for non-US systems
        and will appear in the billing, although it is unlikely to be signaled
        to peer networks.
        See http://www.nanpa.com/number_resource_info/ani_ii_assignments.html

        Introduced: Version 1.0, Compatibility Level 3.
      </documentation>
    </annotation>
    <restriction base="string">
      <pattern value="[0-9][0-9]">
        <annotation>
          <documentation>ANI-II digits comprise of two digits, where each digit
             shall take a value between 0 and 9 inclusive.
          </documentation>
        </annotation>
      </pattern>
    </restriction>
  </simpleType>

  <!--**********************************************************************-->
  <!-- A type to indicate how to interpret the media capabilities.         -->
  <!--**********************************************************************-->
  <simpleType name="MediaCapabilityType">
    <annotation>
      <documentation>Specifies how to interpret a media capability.

        Introduced: Version 1.0, Compatibility Level 3.
      </documentation>
    </annotation>
    <restriction base="string">
      <enumeration value="Speech">
        <annotation>
          <documentation>The bearer capability is speech.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="3.1kHzAudio">
        <annotation>
          <documentation>The bearer capability is 3.1khz audio.
          </documentation>
        </annotation>
      </enumeration>
            <enumeration value="64kbpsData">
        <annotation>
          <documentation>The bearer capability is 64kb/s data.
          </documentation>
        </annotation>
      </enumeration>
            <enumeration value="56kbpsData">
        <annotation>
          <documentation>The bearer capability is 56kb/s data.
          </documentation>
        </annotation>
      </enumeration>
            <enumeration value="64kbpsDataRestricted">
        <annotation>
          <documentation>The bearer capability is 64kb/s data restricted.
          </documentation>
        </annotation>
      </enumeration>
    </restriction>
  </simpleType>

  <!--**********************************************************************-->
  <!-- A type to represent User Defined Attribute index                     -->
  <!--**********************************************************************-->
  <simpleType name="UDAIndexType">
    <annotation>
      <documentation>
        Identifies a User Defined Attribute associated with the
        call. User Defined Attributes can be assigned using
        routing configuration.

        Introduced: Version 1.0, Compatibility Level 3.
      </documentation>
    </annotation>
    <restriction base="unsignedLong">
      <minInclusive value="1" />
      <maxInclusive value="20" />
    </restriction>
  </simpleType>

  <!--**********************************************************************-->
  <!-- A type to represent User Defined Attribute value                     -->
  <!--**********************************************************************-->
  <simpleType name="UDAValueType">
    <annotation>
      <documentation>The value of a User Defined Attribute associated with the
        call.

        Introduced: Version 1.0, Compatibility Level 3.
      </documentation>
    </annotation>
    <restriction base="unsignedLong"/>
  </simpleType>

  <!--**********************************************************************-->
  <!-- A type to represent whether an ISUP call will be charged.            -->
  <!--**********************************************************************-->
  <simpleType name="ChargeIndicatorType">
    <annotation>
      <documentation>This value represents the Charge Indicator received from
        a called party on an ISUP call.

        Introduced: Version 1.0, Compatibility Level 7.
      </documentation>
    </annotation>
    <restriction base="string">
      <enumeration value="No Indication">
        <annotation>
          <documentation>No indication of call charge.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="No Charge">
        <annotation>
          <documentation>The called party indicated there is no charge for this
            call.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="Charge">
        <annotation>
          <documentation>The called party indicated there will be a charge for
            this call.
          </documentation>
        </annotation>
      </enumeration>
    </restriction>
  </simpleType>

  <!--**********************************************************************-->
  <!-- A type to represent what Called Party Category was recieved on an    -->
  <!-- ISUP call.                                                           -->
  <!--**********************************************************************-->
  <simpleType name="CalledPartyNumCatType">
    <annotation>
      <documentation>This value represents the Called Party Category field in
        the backwards indicators parameter of an ISUP message.

        Introduced: Version 1.0, Compatibility Level 7.
      </documentation>
    </annotation>
    <restriction base="string">
      <enumeration value="No Indication">
        <annotation>
          <documentation>No indication of called party category.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="Ordinary Subscriber">
        <annotation>
          <documentation>The called party is an ordinary subscriber.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="Payphone">
        <annotation>
          <documentation>The called party is a payphone.
          </documentation>
        </annotation>
      </enumeration>
    </restriction>
  </simpleType>

  <!--**********************************************************************-->
  <!-- A type to represent what Calling Party Screening indicator was sent  -->
  <!-- on an ISUP call.                                                     -->
  <!--**********************************************************************-->
  <simpleType name="CallingPartyScreeningType">
    <annotation>
      <documentation>This value represents the Calling Party Screening
        indicator was signalled on an ISUP call.

        Introduced: Version 1.0, Compatibility Level 7.
      </documentation>
    </annotation>
    <restriction base="string">
      <enumeration value="User Provided - Unverified">
        <annotation>
          <documentation>The calling number was user provided and has not been
            verified.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="User Provided - Failed">
        <annotation>
          <documentation>The calling number was user provided and verification
            of it failed.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="User Provided">
        <annotation>
          <documentation>The calling number was user provided.
          </documentation>
        </annotation>
      </enumeration>
      <enumeration value="Network Provided">
        <annotation>
          <documentation>The calling number was provided by the network.
          </documentation>
        </annotation>
      </enumeration>
    </restriction>
  </simpleType>

  <!--**********************************************************************-->
  <!-- A type to represent the Point Code from which an ISUP message was    -->
  <!-- sent for the Originating party in a call.                            -->
  <!--**********************************************************************-->
  <simpleType name="PointCodeDecimalType">
    <annotation>
      <documentation>This value represents a point code in decimal format.

        Introduced: Version 1.0, Compatibility Level 7.
      </documentation>
    </annotation>
    <restriction base="string">
      <minLength value="0"/>
      <maxLength value="8"/>
    </restriction>
  </simpleType>

  <!--**********************************************************************-->
  <!-- A type to represent the Bearer Capability signalled in an ISUP call. -->
  <!--**********************************************************************-->
  <simpleType name="BearerCapabilityType">
    <annotation>
      <documentation>This value represents the Bearer Capability signalled in
        an ISUP call.

        Introduced: Version 1.0, Compatibility Level 7.
      </documentation>
    </annotation>
    <restriction base="string">
     <enumeration value="Speech">
       <annotation>
         <documentation>Speech capability signalled.
         </documentation>
       </annotation>
     </enumeration>
     <enumeration value="Unrestricted Digital">
       <annotation>
         <documentation>Unrestricted Digital capability signalled.
         </documentation>
       </annotation>
     </enumeration>
     <enumeration value="Restricted Digital">
       <annotation>
         <documentation>Restricted Digital capability signalled.
         </documentation>
       </annotation>
     </enumeration>
     <enumeration value="3.1 kHz audio">
       <annotation>
         <documentation>3.1 kHz audio capability signalled.
         </documentation>
       </annotation>
     </enumeration>
     <enumeration value="UDI-TA">
       <annotation>
         <documentation>UDI-TA capability signalled.
         </documentation>
       </annotation>
     </enumeration>
     <enumeration value="Video">
       <annotation>
         <documentation>Video capability signalled.
         </documentation>
       </annotation>
     </enumeration>
    </restriction>
  </simpleType>

  <!--**********************************************************************-->
  <!-- A type to represent Jitter                                           -->
  <!--**********************************************************************-->
  <simpleType name="JitterType">
    <annotation>
      <documentation>Amount of received jitter on a termination.
      </documentation>
    </annotation>
    <restriction base="string">
      <minLength value="3"></minLength>
      <pattern value="\d+ms">
        <annotation>
          <documentation>Jitter given in ms units.
          </documentation>
        </annotation>
      </pattern>
    </restriction>
  </simpleType>

  <!--**********************************************************************-->
  <!-- A type to represent Octet count.                                     -->
  <!--**********************************************************************-->
  <simpleType name="OctetCountType">
    <annotation>
      <documentation>Octet count for a termination.</documentation>
    </annotation>
    <restriction base="unsignedLong">
    </restriction>
  </simpleType>

  <!--**********************************************************************-->
  <!-- A type to represent a Packet Count                                   -->
  <!--**********************************************************************-->
  <simpleType name="PacketCountType">
    <annotation>
      <documentation>Packet count.</documentation>
    </annotation>
    <restriction base="unsignedLong">
    </restriction>
  </simpleType>

  <!--**********************************************************************-->
  <!-- A type to represent packet loss rate on a termination                -->
  <!--**********************************************************************-->
  <simpleType name="PacketLossRateType">
    <annotation>
      <documentation>Packet loss rate on a termination as a percentage.
      </documentation>
    </annotation>
    <restriction base="decimal">
      <minInclusive value="0"/>
      <maxInclusive value="100"/>
    </restriction>
  </simpleType>

  <!--**********************************************************************-->
  <!-- A type to represent Mean Opinion Score voice quality metric.         -->
  <!--**********************************************************************-->
  <simpleType name="MOSType">
    <annotation>
      <documentation>Mean Opinion Score expressed as an integer.
      </documentation>
    </annotation>
    <restriction base="unsignedLong">
      <minInclusive value="10"/>
      <maxInclusive value="50"/>
    </restriction>
  </simpleType>

  <!--**********************************************************************-->
  <!-- A type to represent delay                                            -->
  <!--**********************************************************************-->
  <simpleType name="DelayType">
    <annotation>
      <documentation>Round trip delay on a call leg.
      </documentation>
    </annotation>
    <restriction base="string">
      <minLength value="3"></minLength>
      <pattern value="\d+ms">
        <annotation>
          <documentation>Delay in ms.
          </documentation>
        </annotation>
      </pattern>
    </restriction>
  </simpleType>

  <!--**********************************************************************-->
  <!-- A type to represent the r-factor                                    -->
  <!--**********************************************************************-->
  <simpleType name="RFactorType">
    <annotation>
      <documentation>RFactor on a termination.</documentation>
    </annotation>
    <restriction base="unsignedLong">
      <minInclusive value="0"/>
      <maxInclusive value="100"/>
    </restriction>
  </simpleType>

  <!--**********************************************************************-->
  <!-- A type to represent the overall r-factor                             -->
  <!--**********************************************************************-->
  <simpleType name="OverallRFactorType">
    <annotation>
      <documentation>Overall RFactor.</documentation>
    </annotation>
    <restriction base="long">
      <minInclusive value="-94"/>
      <maxInclusive value="106"/>
    </restriction>
  </simpleType>

  <!--**********************************************************************-->
  <!--**********************************************************************-->
  <!--                                                                      -->
  <!-- Define the complex types that represent the structure of the CDRs.   -->
  <!--                                                                      -->
  <!-- These are grouped roughly according to their use in other types in a -->
  <!-- "bottom up" manner:                                                  -->
  <!--                                                                      -->
  <!--    1) Types that elaborate the simple types defined above by adding  -->
  <!--       attributes.                                                    -->
  <!--                                                                      -->
  <!--    2) Component elements                                             -->
  <!--                                                                      -->
  <!--    3) Parties in a call                                              -->
  <!--                                                                      -->
  <!--    4) The CDRs                                                       -->
  <!--                                                                      -->
  <!--    5) VQM stats                                                      -->
  <!--                                                                      -->
  <!--    6) The file structure                                             -->
  <!--                                                                      -->
  <!--**********************************************************************-->
  <!--**********************************************************************-->


  <!--**********************************************************************-->
  <!-- A type to represent a subscriber's address                           -->
  <!--**********************************************************************-->
  <complexType name="AddressType" mixed="false">
    <annotation>
      <documentation>Specifies the address of a party or route in the call.
      </documentation>
    </annotation>
    <simpleContent>
      <extension base="string">
        <attribute name="type" type="cdr:AddressFamilyType" use="required">
          <annotation>
            <documentation>Specifies which address space the address is part
              of so that it can be correctly interpreted.
            </documentation>
          </annotation>
        </attribute>
        <attribute name="callingpartyscreening" type="cdr:CallingPartyScreeningType">
          <annotation>
            <documentation>Specifies whether the calling number was network or
              user provided and if user provided, whether the network views
              the number as correctly identifying the user.
            </documentation>
          </annotation>
        </attribute>
      </extension>
    </simpleContent>
  </complexType>

  <!--**********************************************************************-->
  <!-- A type to represent a release reason                                 -->
  <!--**********************************************************************-->
  <complexType name="ReleaseReasonType">
    <annotation>
      <documentation>Specifies why a call was released. The namespace of the
        reason code may depend on the underlying signaling technology so the
        type attribute should be used to decide how to interpret the value.
      </documentation>
    </annotation>
    <simpleContent>
      <extension base="cdr:ReleaseReasonCodesType">
        <attribute name="type" type="cdr:ReleaseReasonTypeType" use="required">
          <annotation>
            <documentation>Specifies what kind of release reason is contained
              in the element.
            </documentation>
          </annotation>
        </attribute>
        <attribute name="loc" type="cdr:ReleaseLocationType" use="optional">
          <annotation>
            <documentation>Specifies the location of release. Only present and
              meaningful if the type is "q850".

              Introduced: Version 1.0, Compatibility Level 2.
            </documentation>
          </annotation>
        </attribute>
      </extension>
    </simpleContent>
  </complexType>

  <!--**********************************************************************-->
  <!-- A type to represent trunks that failed Routing                       -->
  <!--**********************************************************************-->
  <complexType name="TrunkFailReasonType">
    <annotation>
      <documentation>Represents a trunk routing failure reason, which
        may be one of a Q.850 release cause, a SIP response code or an internal
        "skip" reason code.</documentation>
    </annotation>
    <simpleContent>
      <extension base="cdr:TrunkFailReasonsType">
        <attribute name="type" type="cdr:TrunkFailTypeType" use="required">
          <annotation>
            <documentation>Indicates what kind of failure reason is represented
              by the element in order that it can be correctly interpreted.
            </documentation>
          </annotation>
        </attribute>
      </extension>
    </simpleContent>
  </complexType>

  <!--**********************************************************************-->
  <!-- A type to represent signaling type, with attribute added.            -->
  <!--**********************************************************************-->
  <complexType name="SignalingTypeType">
    <annotation>
      <documentation>Represents a trunk routing failure reason, which
        may be one of a Q.850 release cause, a SIP response code or an internal
        "skip" reason code.

        Introduced: Version 1.0, Compatibility Level 8.
        </documentation>
    </annotation>
    <simpleContent>
      <extension base="cdr:SignalingTypeBasicType">
        <attribute name="variant" type="cdr:SignalingVariantType"
                   use="optional">
          <annotation>
            <documentation>Gives more detail about the call's signaling type.
            </documentation>
          </annotation>
        </attribute>
      </extension>
    </simpleContent>
  </complexType>

  <!--**********************************************************************-->
  <!-- A type to represent the features invoked on a call                   -->
  <!--**********************************************************************-->
  <complexType name="FeaturesType">
    <annotation>
      <documentation>Container for a list of features invoked on a call
      </documentation>
    </annotation>
    <sequence>
      <element name="Feature" type="cdr:FeatureType"
               minOccurs="0" maxOccurs="unbounded">
        <annotation>
          <documentation>A feature which was invoked during a call.
          </documentation>
        </annotation>
      </element>
    </sequence>
  </complexType>

  <!--**********************************************************************-->
  <!-- A type to represent the supplementary info about a feature           -->
  <!--**********************************************************************-->
  <complexType name="FeatureInfoType">
    <annotation>
      <documentation>Provides supplementary information about a feature (or
        potentially features) that were invoked on a call. Since the actual
        information present depends on the exact features invoked, this type
        includes all possible supplementary information
      </documentation>
    </annotation>
    <choice minOccurs="0" maxOccurs="unbounded">
      <element name="ForwardToAddr" type="cdr:AddressType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Specifies the target when a subscriber activates call
            forwarding service.
          </documentation>
        </annotation>
      </element>
      <element name="RemotePartyAddr" type="cdr:AddressType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Specifies the remote party involved in a call that
            caused a SIP trunk to burst.
          </documentation>
        </annotation>
      </element>
    </choice>
  </complexType>

  <!--**********************************************************************-->
  <!-- A type to provide information about the routing of the call          -->
  <!--**********************************************************************-->
  <complexType name="RoutingInfoType">
    <annotation>
      <documentation>Specifies information about the handling of a call in
        Routing. There are some circumstances where CDRs are generated for
        call legs that do not go through Routing, for example the CDR that is
        generated for a Conference Bridge in a conference call, in which case
        all of the elements within the RoutingInfo may be absent.
      </documentation>
    </annotation>
    <sequence>
      <element name="RequestedAddr" type="cdr:AddressType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Represents the address selected by the user,
            typically the dialled digits.
          </documentation>
        </annotation>
      </element>
      <element name="DestAddr" type="cdr:AddressType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Represents the address as normalised by the system.
            Typically, the digits after processing by Number Validation.
          </documentation>
        </annotation>
      </element>
      <element name="RoutedAddr" type="cdr:AddressType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Represents the address as finally routed by the
            system.
          </documentation>
        </annotation>
      </element>
      <element name="CallingPartyRoutedAddr" type="cdr:AddressType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Represents the Calling Party's address as finally
            routed by the system.

            Introduced: Version 1.0, Compatibility Level 2.
          </documentation>
        </annotation>
      </element>
      <element name="CallingPartyOrigAddr" type="cdr:AddressType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Represents the Calling Party's original address before
            any processing by the system.

            Introduced: Version 1.0, Compatibility Level 5.
          </documentation>
        </annotation>
      </element>
      <element name="FailedTrunkGroups" type="cdr:FailedTrunkGroupsType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Represents trunk groups that were tried but failed to
            route the call, either because they were skipped or because they
            were tried and failed to carry the call.
          </documentation>
        </annotation>
      </element>
    </sequence>
  </complexType>

  <!--**********************************************************************-->
  <!-- A type to represent a trunk group that has been used in Routing a    -->
  <!-- call.                                                                -->
  <!--**********************************************************************-->
  <complexType name="TrunkGroupType">
    <annotation>
      <documentation>Specifies the characteristics of a trunk group that was
        used in the routing of a call.
      </documentation>
    </annotation>
    <sequence>
      <element name="TrunkGroupId" type="cdr:TrunkGroupIdType"
               minOccurs="1" maxOccurs="1">
        <annotation>
          <documentation>Represents the identity of the trunk.  The identity
            may be that locally configured for a trunk, added or modified by
            number validation or, for SIP trunks only, a value learnt from
            signaled SIP flows.
          </documentation>
        </annotation>
      </element>
      <element name="TrunkMemberId" type="cdr:TrunkMemberIdType"
               minOccurs="1" maxOccurs="1">
        <annotation>
          <documentation>Represents which circuit or channel within the trunk
            was used to carry the call.
          </documentation>
        </annotation>
      </element>
      <element name="OrigTrunkGroupLabel" type="cdr:TrunkGroupLabelType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Identifies the originating trunk group.

            Introduced: Version 1.0, Compatibility Level 8.
          </documentation>
        </annotation>
      </element>
      <element name="OrigTrunkContext" type="cdr:TrunkContextType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Contains the originating trunk context parameters from
            the SIP signaling.

            Introduced: Version 1.0, Compatibility Level 8.
          </documentation>
        </annotation>
      </element>
      <element name="DestTrunkGroupLabel" type="cdr:TrunkGroupLabelType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Identifies the destination trunk group.

            Introduced: Version 1.0, Compatibility Level 8.
          </documentation>
        </annotation>
      </element>
      <element name="DestTrunkContext" type="cdr:TrunkContextType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Contains the destination trunk context parameters from
            the SIP signaling.

            Introduced: Version 1.0, Compatibility Level 8.
          </documentation>
        </annotation>
      </element>
    </sequence>
    <attribute name="type" use="required" type="cdr:TrunkTypeType">
      <annotation>
        <documentation>Represents the kind of signaling technology used by the
          trunk group.
        </documentation>
      </annotation>
    </attribute>
    <attribute name="trunkaccounting" type="cdr:TrunkAccountingType"
               use="optional">
      <annotation>
        <documentation>Represents a unique identifier that the operator may use
          to correlate billing over different trunks for particular purposes,
          for example to represent different kinds of interconnect traffic.
        </documentation>
      </annotation>
    </attribute>
    <attribute name="trunkname" type="cdr:TrunkNameType" use="optional">
      <annotation>
        <documentation>Represents a unique identifier that the operator may use
          to identify the trunk group.

          Introduced: Version 1.0, Compatibility Level 5.
        </documentation>
      </annotation>
    </attribute>
    <attribute name="dup" type="cdr:DupType" use="optional">
      <annotation>
        <documentation>Specifies whether the failure is a duplicate.

          Introduced: Version 1.0, Compatibility Level 8.
        </documentation>
      </annotation>
    </attribute>
  </complexType>

  <!--**********************************************************************-->
  <!-- A type to represent trunks that were tried and failed/were skipped   -->
  <!--**********************************************************************-->
  <complexType name="FailedTrunkGroupsType">
    <annotation>
      <documentation>Contains a list of trunks that were tried and either
        skipped or failed during routing of this call.
      </documentation>
    </annotation>
    <sequence>
      <element name="FailedTrunkGroup" type="cdr:FailedTrunkGroupType"
               minOccurs="1" maxOccurs="5">
        <annotation>
          <documentation>Represents a trunk that was either skipped or tried
            and failed during routing.
          </documentation>
        </annotation>
      </element>
    </sequence>
  </complexType>

  <!--**********************************************************************-->
  <!-- A type to represent a trunk that failed to route.                    -->
  <!--**********************************************************************-->
  <complexType name="FailedTrunkGroupType">
    <annotation>
      <documentation>Specifies the details of a single trunk that was either
        skipped or tried and failed during routing.
      </documentation>
    </annotation>
    <sequence>
      <element name="TrunkGroupId" type="int" minOccurs="1" maxOccurs="1">
        <annotation>
          <documentation>Identifies which trunk failed routing.</documentation>
        </annotation>
      </element>
      <element name="Reason" type="cdr:TrunkFailReasonType" maxOccurs="2"
               minOccurs="1">
        <annotation>
          <documentation>Provides one or more reasons the trunk routing failed.
            There may be two reasons if equivalent SIP and Q.850 reasons are
            available.
            If the trunk was skipped there will only be a single reason
            provided in the CDR.
          </documentation>
        </annotation>
      </element>
    </sequence>
    <attribute name="trunkaccounting" type="cdr:TrunkAccountingType"
               use="optional">
      <annotation>
        <documentation>Represents a unique identifier that the operator may use
          to correlate billing over different trunks for particular purposes,
          for example to represent different kinds of interconnected traffic.
        </documentation>
      </annotation>
    </attribute>
  </complexType>

  <!--**********************************************************************-->
  <!-- A type to represent Addresses.                                       -->
  <!--**********************************************************************-->
  <complexType name="AddressesType">
    <annotation>
      <documentation>Defines the addresses for a call.

        Introduced: Version 1.0, Compatibility Level 8.
      </documentation>
    </annotation>
    <sequence>
      <element name="SigAddress" type="string"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>The signaling IP address or SIP domain name.
            Depending on its position in the XML, this refers to the source or
            destination address for an incoming or outgoing call.
          </documentation>
        </annotation>
      </element>
      <element name="MediaIPAddr" type="string"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>This is set to the IP address (IPv4 or IPv6) or SIP
            domain name specified in the connection address in the Connection
            Data ("c=") in the SDP.  Depending on its position in the XML, this
            refers to the source or destination address for an incoming or
            outgoing call.
          </documentation>
        </annotation>
      </element>
      <element name="MediaPort" type="cdr:PortType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>This is set to the port specified in the port field
            Media Descriptions ("m=") in the SDP.  Depending on its position in
            the XML, this refers to the source or destination address for an
            incoming or outgoing call.
          </documentation>
        </annotation>
      </element>
    </sequence>
  </complexType>

  <!--**********************************************************************-->
  <!-- A type to represent P-Charging-Vector information.                   -->
  <!--**********************************************************************-->
  <complexType name="PChargingVectorType">
    <annotation>
      <documentation>Defines the information provided by the P-Charging-Vector
        header in a SIP INVITE.

        Introduced: Version 1.0, Compatibility Level 8.
      </documentation>
    </annotation>
    <sequence>
      <element name="icidvalue" type="string"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>The IMS charging identifier.
          </documentation>
        </annotation>
      </element>
      <element name="icidgeneratedat" type="string"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>The location of the device that generated the ICID
            (IMS Charging Identifier).
          </documentation>
        </annotation>
      </element>
      <element name="origioi" type="string"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>The originating Inter-Operator-Identifier.
          </documentation>
        </annotation>
      </element>
      <element name="termioi" type="string"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>The terminating Inter-Operator-Identifier.
          </documentation>
        </annotation>
      </element>
    </sequence>
  </complexType>

  <!--**********************************************************************-->
  <!-- A type to represent P-Charging-Function-Addresses.                   -->
  <!--**********************************************************************-->
  <complexType name="PChargingFunctionAddressesType">
    <annotation>
      <documentation>Defines the contents of the P-Charging-Function-Addresses
        in SIP messages.

        Introduced: Version 1.0, Compatibility Level 8.
      </documentation>
    </annotation>
    <sequence>
      <element name="CCFAddresses" type="string"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>The CCF (Charging Collection Function) Addresses.
            This is a semi-colon-separated list.
          </documentation>
        </annotation>
      </element>
      <element name="ECFAddresses" type="string"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>The ECF (Event Charging Function) Addresses.
            This is a semi-colon-separated list.
          </documentation>
        </annotation>
      </element>
    </sequence>
  </complexType>

  <!--**********************************************************************-->
  <!-- A type to represent User Defined Attributes associated with a call   -->
  <!--**********************************************************************-->
  <complexType name="UDAsType">
    <annotation>
      <documentation>Contains a list of user attributes associated with a call.

        Introduced: Version 1.0, Compatibility Level 3.
      </documentation>
    </annotation>
    <sequence>
      <element name="UDA" type="cdr:UDAType" minOccurs="0" maxOccurs="20">
        <annotation>
          <documentation>
            A single User Defined Attribute associated with a call.

            Introduced: Version 1.0, Compatibility Level 3.
          </documentation>
        </annotation>
      </element>
    </sequence>
  </complexType>

  <!--**********************************************************************-->
  <!-- A type to represent a single User Defined Attribute.                 -->
  <!--**********************************************************************-->
  <complexType name="UDAType">
    <annotation>
      <documentation>Specifies a single User Defined Attribute associated with
        a call.

        Introduced: Version 1.0, Compatibility Level 3.
      </documentation>
    </annotation>
    <simpleContent>
      <extension base="cdr:UDAValueType">
        <annotation>
          <documentation>The value of the User Defined Attribute.

            Introduced: Version 1.0, Compatibility Level 3.
          </documentation>
        </annotation>
        <attribute name="id" type="cdr:UDAIndexType">
          <annotation>
            <documentation>Identifies the specific User Defined Attribute.

              Introduced: Version 1.0, Compatibility Level 3.
            </documentation>
          </annotation>
        </attribute>
      </extension>
    </simpleContent>
  </complexType>

  <!--**********************************************************************-->
  <!-- A type to provide information about the signaling associated with    -->
  <!-- the call.                                                            -->
  <!--**********************************************************************-->
  <complexType name="SignalingInfoType">
    <annotation>
      <documentation>Specifies information about the signaling associated with
        a call. Whether information is present depends on the signaling stacks
        used for either half of the call.

        Introduced: Version 1.0, Compatibility Level 2.
      </documentation>
    </annotation>
    <sequence>
      <element name="ISUPPreference" type="cdr:ISUPPreferenceType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Represents whether ISDN User Part was requested
            end-to-end as signaled in ISUP.

            Introduced: Version 1.0, Compatibility Level 2.
          </documentation>
        </annotation>
      </element>
      <element name="ISUPUsed" type="boolean"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Represents whether ISDN User Part was used end-to-end
            as signaled in ISUP.

            Introduced: Version 1.0, Compatibility Level 2.
          </documentation>
        </annotation>
      </element>
      <element name="UserService" type="cdr:UserServiceType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Represents the User Service Information as
            signaled in ISUP.

            Introduced: Version 1.0, Compatibility Level 2.
          </documentation>
        </annotation>
      </element>
      <element name="FallbackUserService" type="cdr:UserServiceType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Represents the User Service Information Prime as
            signaled in ISUP.

            Introduced: Version 1.0, Compatibility Level 2.
          </documentation>
        </annotation>
      </element>
      <element name="MediaCapabilityRequested" type="cdr:MediaCapabilityType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Represents the Media Capability required. Derived from
            Transmission Medium Required if ISUP is used or Information
            Transfer Capability if ISDN used. For SIP calls this will always be
            set to Speech, even for video calls.

            Introduced: Version 1.0, Compatibility Level 3.
          </documentation>
        </annotation>
      </element>
      <element name="MediaCapabilityUsed" type="cdr:MediaCapabilityType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Represents the Media Capability used. Derived from
            Transmission Medium Used if ISUP.

            Introduced: Version 1.0, Compatibility Level 3.
          </documentation>
        </annotation>
      </element>
      <element name="Peer" type="cdr:PeerType"
               minOccurs="0" maxOccurs="2">
        <annotation>
          <documentation>Represents the origination and/or the destination
            signaling peers of the call.
            MTP3.

            Introduced: Version 1.0, Compatibility Level 2.
          </documentation>
        </annotation>
      </element>
      <element name="DestinationPointCode" type="cdr:PointCodeType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Represents the Destination Point Code as signaled in
            MTP3.

            Introduced: Version 1.0, Compatibility Level 2.
          </documentation>
        </annotation>
      </element>
      <element name="UUIMessages" type="cdr:UUIServicesType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Represents the statistics regarding number of User-
            User Information messages sent/received.

            Introduced: Version 1.0, Compatibility Level 2.
          </documentation>
        </annotation>
      </element>
      <element name="ChargeIndicator" type="cdr:ChargeIndicatorType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Represents the Charge Indicator received from a party
            in an ISUP call.

            Introduced: Version 1.0, Compatibility Level 7.
          </documentation>
        </annotation>
      </element>
      <element name="CalledPartyNumCat" type="cdr:CalledPartyNumCat"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Represents the Called Party Number category of a party
            in an ISUP call.

            Introduced: Version 1.0, Compatibility Level 7.
          </documentation>
        </annotation>
      </element>
      <element name="BearerCapability" type="cdr:BearerCapabilityType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Represents the bearer capability sent in the
            Information Transfer Capability parameter in an ISUP message.

            Introduced: Version 1.0, Compatibility Level 7.
          </documentation>
        </annotation>
      </element>
      <element name="SatelliteIndicator" type="cdr:SatelliteIndicatorType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Represents the satellite indicator parameter
            received in an ISUP call.

            Introduced: Version 1.0, Compatibility Level 7.
          </documentation>
        </annotation>
      </element>
      <element name="EchoControlInfo" type="cdr:EchoControlInfoType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Represents the value of the Echo Control Device
            Indicator signaled in an ISUP call.

            Introduced: Version 1.0, Compatibility Level 7.
          </documentation>
        </annotation>
      </element>
      <element name="Announcement" type="cdr:AnnouncementType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Represents the statistics regarding number of User-
            User Information messages sent/received.

            Introduced: Version 1.0, Compatibility Level 7.
          </documentation>
        </annotation>
      </element>
      <element name="CallReference" type="cdr:CallReferenceType"
               minOccurs="0" maxOccurs="1">
         <annotation>
          <documentation>Represents the value of the Call Reference parameter
            signaled in an ISUP call.

            Introduced: Version 1.0, Compatibility Level 7.
          </documentation>
        </annotation>
      </element>
      <element name="PChargingVector" type="cdr:PChargingVectorType"
               minOccurs="0" maxOccurs="1">
         <annotation>
           <documentation>The contents of the P-Charging-Vector header in any
             SIP message received by the MGC (if present).

            Introduced: Version 1.0, Compatibility Level 8.
          </documentation>
        </annotation>
      </element>
      <element name="PVisitedNetworkId" type="string"
               minOccurs="0" maxOccurs="1">
         <annotation>
          <documentation>The contents of the P-Visited-Network-ID header in any
            SIP message received by the MGC (if present).

            Introduced: Version 1.0, Compatibility Level 8.
          </documentation>
        </annotation>
      </element>
      <element name="PChargingFunctionAddresses"
               type="cdr:PChargingFunctionAddressesType"
               minOccurs="0" maxOccurs="1">
         <annotation>
          <documentation>The contents of the P-Charging-Function-Addresses
            header in any SIP message received by the MGC (if present).

            Introduced: Version 1.0, Compatibility Level 8.
          </documentation>
        </annotation>
      </element>
    </sequence>
  </complexType>

  <!--**********************************************************************-->
  <!-- A type to provide information about the signaling associated with the-->
  <!-- User-User Information services (UUI1, UUI2 and UUI3).                -->
  <!--**********************************************************************-->
  <complexType name="UUIServicesType">
    <annotation>
      <documentation>Specifies information about the signaling associated with
        the User-User Information services (UUI1, UUI2 and UUI3).

        Introduced: Version 1.0, Compatibility Level 2.
      </documentation>
    </annotation>
    <sequence>
      <element name="UUI1" type="cdr:UUIServiceType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Represents the UUI1 service in ISUP.

            Introduced: Version 1.0, Compatibility Level 2.
          </documentation>
        </annotation>
      </element>
      <element name="UUI2" type="cdr:UUIServiceType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Represents the UUI2 service in ISUP.

            Introduced: Version 1.0, Compatibility Level 2.
          </documentation>
        </annotation>
      </element>
      <element name="UUI3" type="cdr:UUIServiceType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Represents the UUI3 service in ISUP.

            Introduced: Version 1.0, Compatibility Level 2.
          </documentation>
        </annotation>
      </element>
     </sequence>
  </complexType>

  <!--**********************************************************************-->
  <!-- A type to provide information about the signaling associated with a  -->
  <!-- User-User Information service.                                       -->
  <!--**********************************************************************-->
  <complexType name="UUIServiceType">
    <annotation>
      <documentation>Specifies information about the signaling associated with
        a User-User Information service.

        Introduced: Version 1.0, Compatibility Level 2.
      </documentation>
    </annotation>
    <sequence>
      <element name="Forwards" type="unsignedInt"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Represents the number of UUI messages sent forwards.

            Introduced: Version 1.0, Compatibility Level 2.
          </documentation>
        </annotation>
      </element>
      <element name="Backwards" type="unsignedInt"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Represents the number of UUI messages sent backwards.

            Introduced: Version 1.0, Compatibility Level 2.
          </documentation>
        </annotation>
      </element>
    </sequence>
  </complexType>

  <!--**********************************************************************-->
  <!-- A type to provide information about the User Service Information as  -->
  <!-- signaled in the ISUP.                                                -->
  <!--**********************************************************************-->
  <complexType name="UserServiceType">
    <annotation>
      <documentation>Specifies information about the User Service Information
        signaled in the ISUP, corresponding to the Bearer Capabilities in
        Q.931.

        Introduced: Version 1.0, Compatibility Level 2.
      </documentation>
    </annotation>
    <sequence>
      <element name="InformationTransferCapability"
               type="cdr:InformationTransferCapabilityType"
               minOccurs="0" maxOccurs="1" >
        <annotation>
          <documentation>Represents the Information Transfer Capability.

            Introduced: Version 1.0, Compatibility Level 2.
          </documentation>
        </annotation>
      </element>
    </sequence>
  </complexType>

  <!--**********************************************************************-->
  <!-- A type to provide information about the Information Transfer         -->
  <!-- Capability as signaled in the ISUP.                                  -->
  <!--**********************************************************************-->
  <complexType name="InformationTransferCapabilityType">
    <annotation>
      <documentation>Specifies information about the Information Transfer
        Capability as signaled in the ISUP, corresponding to the Bearer
        Capabilities in Q.931. See that standard for the meaning of the values.

        Introduced: Version 1.0, Compatibility Level 2.
      </documentation>
    </annotation>
    <simpleContent>
      <extension base="cdr:FiveBitValueType">
        <attribute name="type"
                   type="cdr:InformationTransferCapabilityTypeType"
                   use="optional"
                   default="itu">
          <annotation>
            <documentation>Specifies the namespace of the value.
            </documentation>
          </annotation>
        </attribute>
      </extension>
    </simpleContent>
  </complexType>

  <!--**********************************************************************-->
  <!-- A type to allow signalling peer addresses to be described in the     -->
  <!-- appropriate address space and the appropriate role.                  -->
  <!--**********************************************************************-->
  <complexType name="PeerType">
    <annotation>
      <documentation>Specifies the signaling peer's address in the appropriate
        address space for the different signaling types and the appropriate
        role (originating or terminating).

        Introduced: Version 1.0, Compatibility Level 2.
      </documentation>
    </annotation>
    <simpleContent>
      <extension base="cdr:PeerAddressType">
        <attribute name="role" type="cdr:PeerRoleType" use="required">
          <annotation>
            <documentation>Specifies which signaling peer is being described.
            </documentation>
          </annotation>
        </attribute>
        <attribute name="type" type="cdr:PeerTypeType" use="required">
          <annotation>
            <documentation>Specifies which address space the address is in
              according to the signaling technology used to communicate to the
              signaling peer.
            </documentation>
          </annotation>
        </attribute>
      </extension>
    </simpleContent>

  </complexType>

  <!--**********************************************************************-->
  <!-- A type to provide details of the call-forwarding treatment of a call -->
  <!--**********************************************************************-->
  <complexType name="CallForwardInfoType">
    <annotation>
      <documentation>Specifies the details of the call-forwarding treatment of
        a call.
      </documentation>
    </annotation>
    <sequence>
      <element name="OriginalCallingAddr" type="cdr:AddressType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Represents the original party that made the call
            before the call was forwarded, if available.
          </documentation>
        </annotation>
      </element>
      <element name="OriginalCalledAddr" type="cdr:AddressType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Represents the original party that was called before
            the call was forwarded, if available.
          </documentation>
        </annotation>
      </element>
      <element name="LastRedirectingAddr" type="cdr:AddressType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Represents the address of the last party that
            forwarded the call, if available.
          </documentation>
        </annotation>
      </element>
      <element name="RedirectCount" type="unsignedShort"
               minOccurs="1" maxOccurs="1">
        <annotation>
          <documentation>Counts how many times the call has been forwarded.
            There is normally a network-wide limit to the number of forwarding
            hops in order to prevent routing loops. Some call services (e.g.
            FMFM) may set the count to a value higher than the actual number of
            forwarding hops in order to prevent the call from being subject to
            further redirection.
          </documentation>
        </annotation>
      </element>
      <element name="RedirectReason" type="cdr:RedirectReasonType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Represents why the call was forwarded.
          </documentation>
        </annotation>
      </element>
      <element name="OriginalRedirectReason" type="cdr:RedirectReasonType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Represents the original reason the call was forwarded,
            which may be different to the last reason if there have been
            multiple hops in the forwarding of the call.
          </documentation>
        </annotation>
      </element>
    </sequence>
    <attribute name="privacy" type="cdr:PrivacyType" use="required">
      <annotation>
        <documentation>Specifies the privacy treatment that the last diverting
          user requested.
        </documentation>
      </annotation>
    </attribute>
  </complexType>

  <!--**********************************************************************-->
  <!-- A type to represent an LRN in NA                                     -->
  <!--**********************************************************************-->
  <complexType name="NPRoutingNumberType" mixed="false">
    <annotation>
      <documentation>Specifies the Location Routing Number (LRN) used for a
        call.
      </documentation>
    </annotation>
    <simpleContent>
      <extension base="string">
        <attribute name="type" type="cdr:AddressFamilyType" use="optional">
          <annotation>
            <documentation>Specifies which address space the address is part
              of so that it can be correctly interpreted.
            </documentation>
          </annotation>
        </attribute>
      </extension>
    </simpleContent>
  </complexType>

  <!--**********************************************************************-->
  <!-- A type to represent the number-portability treatment of a call.      -->
  <!--**********************************************************************-->
  <complexType name="NPInfoType">
    <annotation>
      <documentation>Specifies the number-portability treatment applied to a
        call. This information only applies to North American LRN lookups.
        The treatment of other LNP schemes, such as All Call Query, can be
        deduced from the regular routing information in the CDR.
      </documentation>
    </annotation>
    <sequence>
      <element name="NPRoutingNumber" type="cdr:NPRoutingNumberType"
               minOccurs="1" maxOccurs="1">
        <annotation>
          <documentation>Represents the routing address (LRN) for the ported
            subscriber.
          </documentation>
        </annotation>
      </element>
      <element name="NPSource" type="cdr:NpSourceType"
               minOccurs="1" maxOccurs="1">
        <annotation>
          <documentation>Represents the source of the LNP information.
          </documentation>
        </annotation>
      </element>
    </sequence>
    <attribute name="partyidentifier" type="cdr:NpPartyType" use="required">
      <annotation>
        <documentation>Indicates which party the number-portability
          information relates to.
        </documentation>
      </annotation>
    </attribute>
  </complexType>

  <!--**********************************************************************-->
  <!-- A type to represent information about the Intelligent Networking     -->
  <!-- treatment of a call.                                                 -->
  <!--**********************************************************************-->
  <complexType name="IntelligentNetworkInfoType">
    <annotation>
      <documentation>Specifies the Intelligent Networking treatment applied to
        the call.
      </documentation>
    </annotation>
    <sequence>
      <element name="ServiceLogicId" type="cdr:ServiceLogicIdType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Identifies the Service Logic that handled the call.
          </documentation>
        </annotation>
      </element>
      <element name="ChargeAddr" type="cdr:AddressType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Identifies the party to be charged for the call, for
            example the service provider for a Toll Free service.
        </documentation>
        </annotation>
      </element>
    </sequence>
    <attribute name="bcsm" type="cdr:BCSMType" use="required">
      <annotation>
        <documentation>Identitfies the Basic Call State Model from which the
          service was tiggered.
        </documentation>
      </annotation>
    </attribute>
  </complexType>

  <!--**********************************************************************-->
  <!-- A type to represent information about long duration calls            -->
  <!--**********************************************************************-->
  <complexType name="LongDurationInfoType">
    <annotation>
      <documentation>Specifies information about the interim CDRs generated
        in order to protect against loss of billing information for very long
        calls after system failure. These are termed "Long Duration
        Records" (LDRs). This information can be used in order to
        avoid double-billing for the same call and to recover billing
        information after a system failure that resulted in loss of final
        records.
      </documentation>
    </annotation>
    <sequence>
      <element name="Status" type="cdr:LdrStatusType"
               minOccurs="1" maxOccurs="1">
        <annotation>
          <documentation>Identifies what stage of partial billing information
            is contained in this LDR.
          </documentation>
        </annotation>
      </element>
      <element name="Count" type="cdr:CDRSeqNumType"
               minOccurs="1" maxOccurs="1">
        <annotation>
          <documentation>Indicates the position of this LDR in the LDRs
            generated for this call. When LDRs are generated for long
            duration calls, there will (in the absence of system failures that
            result in the loss of billing information) always be at least two
            LDRs: one with a status of "FirstLDR" and one with a
            status of "LastLDR"
          </documentation>
        </annotation>
      </element>
      <element name="PreviousTime" type="cdr:TimestampType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Indicates the time of the previous interim call record
            which may be of use when recovering billing information after a
            failure. This element is not present for the first LDR in a call.
          </documentation>
        </annotation>
      </element>
      <element name="CurrentTime" type="cdr:TimestampType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Indicates the time that the LDR was generated.
            For records other than the final record, this represents the latest
            time that the call was known to be active, so represents the
            billable duration of the call so far when recovering billing
            information after failure.
            This element is omitted for the final LDR because the time
            is represented by the Release Time.
          </documentation>
        </annotation>
      </element>
    </sequence>
  </complexType>

  <!--**********************************************************************-->
  <!-- A type to represent information about carrier selection treatment    -->
  <!--**********************************************************************-->
  <complexType name="CarrierSelectInfoType">
    <annotation>
      <documentation>Specifies information about the carrier-selection
        undertaken during the handling of this call.
      </documentation>
    </annotation>
    <sequence>
      <element name="CarrierId" type="cdr:CarrierIdType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Indicates the Carrier selected for this call.
          </documentation>
        </annotation>
      </element>
      <element name="CarrierOperatorInvolved" type="cdr:CarrierOperatorType"
               minOccurs="1" maxOccurs="1">
        <annotation>
          <documentation>Indicates whether the Carrier's operator was
          involved in the handling of this call.
          </documentation>
        </annotation>
      </element>
      <element name="SelectionMethod" type="cdr:SelectionMethodType"
               minOccurs="1" maxOccurs="1">
        <annotation>
          <documentation>Indicates how the chosen carrier was selected by the
            subscriber or network.
          </documentation>
        </annotation>
      </element>
      <element name="NetworkId" type="cdr:NetworkNumberType"
               minOccurs="1" maxOccurs="1">
        <annotation>
          <documentation>Indicates the network that was used to carry the call.
            This is the Network Number that was configured against the outgoing
            trunk which carried the call.
          </documentation>
        </annotation>
      </element>
    </sequence>
  </complexType>

  <!--**********************************************************************-->
  <!-- A type to represent parties. An abstract type with the concrete      -->
  <!-- derivations following immediately after in this file.                -->
  <!--**********************************************************************-->
  <complexType name="PartyType" abstract="true">
    <annotation>
      <documentation>Specifies parties involved in calls as calling, called or
        served users.

        This is an abstract base type that must be derived (generally by
        restriction) to produce a concrete type, such as the
        "IndividualLinePartyType".

        The elements of this type are generally shown as optional (minOccurs=0,
        maxOccurs=1) but this is normally constrained in the derived types to
        be either mandatory or absent, as appropriate.

        In order to ensure that the correct interpretation of the contents can
        be made, the element will always include an xsi:type attribute that
        enables parsers to switch their behaviour according to the expected
        content model.

        To ensure that documentation is in one place, the elements are
        documented on this base type, rather than the derived types.
        </documentation>
    </annotation>
    <sequence>
       <element name="TrunkGroup" type="cdr:TrunkGroupType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Defines the identity of a trunk connecting another
            network or a PBX to this system.

            Revised: Version 1.0, Compatibility Level 2. Previously this
            element was after SubscriberAddr. Note that this change did not
            have any impact on concrete derivative types because SubscriberAddr
            and TrunkGroup were previously mutually exclusive. As of this
            revision PBXParty elements can have both.
            </documentation>
        </annotation>
      </element>
      <element name="SubscriberAddr" type="cdr:AddressType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Defines the identity of a subscriber for users hosted
            on this system. This address is the user's primary key and
            there may be other addresses available for the subscriber, for
            example to provide an overriding calling party number.
            </documentation>
        </annotation>
      </element>
      <element name="CallingPartyAddr" type="cdr:AddressType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Defines the address that the party wants to be
            used in displaying their number to other users. This address may be
            different to their primary address, for example if they have
            provided an overriding calling party number.

            If the user has not provided an distinct address, this address will
            be the same as the primary subscriber address (the element will not
            be omitted from the billing file).
          </documentation>
        </annotation>
      </element>
      <element name="ChargeAddr" type="cdr:AddressType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Defines the party that will accept charges for this
            which may be different from the subscriber address, for example
            across a business with many subscribers where all calling charges
            are collated into one bill.

            If the user has not provided an distinct address, this address will
            be the same as the primary subscriber address (the element will not
            be omitted from the billing file).
          </documentation>
        </annotation>
      </element>
      <element name="BusinessGroupName" type="string"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Represents the business group the party belongs to.
          </documentation>
        </annotation>
      </element>
      <element name="Extension" type="string"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Represents the extension (intercom code) within the
            business group's dial-plan, if that business group supports
            extension dialing.

            Introduced: Version 1.0, Compatibility Level 2.
          </documentation>
        </annotation>
      </element>
      <element name="AppServerAddr" type="cdr:AddressType"
                   minOccurs="0" maxOccurs="1">
         <annotation>
          <documentation>Defines the identity of an application server that
            delivered services on behalf of a party.

            In call-forwarding scenarios, this will actually be the address
            of the A-party, not the application server itself.
          </documentation>
        </annotation>
      </element>
      <element name="ServedParty" type="cdr:PartyType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Defines the party for whom the application server
            delivered services. This element represents the user on whose
            behalf the application server originates a call. For example, if A
            calls B and a terminating application server originates a call to C
            there will be CDR with individual line parties for the A-B call and
            a separate CDR with an originating AppServerPartytype containing a
            ServedParty of B and a terminating party of a type appropriate to
            C's line.

            If the call is not originated on behalf of another user, the served
            party will be the application server itself.
          </documentation>
        </annotation>
      </element>
      <element name="UserAgent" type="cdr:UserAgentType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Records the User-Agent string from the user's
            SIP client. This element will be omitted for non-SIP users.
          </documentation>
        </annotation>
      </element>
      <element name="SIPCallId" type="cdr:SIPCallIdType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Records the Call-ID from the SIP signaling for the
            associated branch of the call. This element will be omitted for
            non-SIP signalled parties.

            Introduced: Version 1.0, Compatibility Level 2.
          </documentation>
        </annotation>
      </element>
      <element name="SignalingType" type="cdr:SignalingTypeType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>The signaling type used for this party.

            Introduced: Version 1.0, Compatibility Level 8.
          </documentation>
        </annotation>
      </element>
      <element name="SourceAddresses" type="cdr:AddressesType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Source addresses for the call.

              Introduced: Version 1.0, Compatibility Level 8.
          </documentation>
        </annotation>
      </element>
      <element name="DestAddresses" type="cdr:AddressesType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Destination addresses for the call.

              Introduced: Version 1.0, Compatibility Level 8.
          </documentation>
        </annotation>
      </element>
      <element name="RequestURI" type="string"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>The Request URI in the SIP INVITE.

            Introduced: Version 1.0, Compatibility Level 8.
          </documentation>
        </annotation>
      </element>
      <element name="From" type="string"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>The From-URI in the SIP INVITE.

            Introduced: Version 1.0, Compatibility Level 8.
          </documentation>
        </annotation>
      </element>
      <element name="To" type="string"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>The To-URI in the SIP INVITE.

            Introduced: Version 1.0, Compatibility Level 8.
          </documentation>
        </annotation>
      </element>
      <element name="Contact" type="string"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>The Contact-URI in the SIP INVITE.

            Introduced: Version 1.0, Compatibility Level 8.
          </documentation>
        </annotation>
      </element>
      <element name="Via" type="string"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>The contents of the topmost Via header in the SIP
            INVITE received by MGC, including the "received" parameter that MGC
            adds on top of it.

            This is present for an OrigParty element only.

            Introduced: Version 1.0, Compatibility Level 8.
          </documentation>
        </annotation>
      </element>
      <element name="PAssertedIdentity" type="string"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>The P-Asserted-Id header in the SIP INVITE.

            This is present for an OrigParty element only.

            Introduced: Version 1.0, Compatibility Level 8.
          </documentation>
        </annotation>
      </element>
      <element name="RemotePartyId" type="string"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>The Remote-Party-Id header in the SIP INVITE.

            This is present for an OrigParty element only.

            Introduced: Version 1.0, Compatibility Level 8.
          </documentation>
        </annotation>
      </element>
      <element name="PAccessNetworkInfo" type="string"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>The P-Access-Network-Info header in the SIP INVITE.

            This is present for an OrigParty element only.

            Introduced: Version 1.0, Compatibility Level 8.
          </documentation>
        </annotation>
      </element>
      <element name="OrigPointCode" type="cdr:PointCodeDecimalType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Records the originating point code for the associated
            branch of the call. This element will be omitted for non-ISUP
            signalled parties.

            Introduced: Version 1.0, Compatibility Level 7.
          </documentation>
        </annotation>
      </element>
      <element name="DestPointCode" type="cdr:PointCodeDecimalType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Records the destination point code for the associated
            branch of the call. This element will be omitted for non-ISUP
            signalled parties.

            Introduced: Version 1.0, Compatibility Level 7.
          </documentation>
        </annotation>
      </element>
      <element name="Reason" type="cdr:TrunkFailReasonType" maxOccurs="2"
               minOccurs="0">
        <annotation>
          <documentation>If the trunk was part of a call for which trunk
            routing failed then this provides one or more reasons for the
            failure that affected this trunk group.
            There may be two reasons if equivalent SIP and Q.850 reasons are
            available.

            Introduced: Version 1.0, Compatibility Level 8.
          </documentation>
        </annotation>
      </element>
      <element name="Gateway" type="string"
               minOccurs="0" maxOccurs="1">
         <annotation>
          <documentation>Specifies the name of the media gateway used on the
            branch of the call representing this party.

            Introduced: Version 1.0, Compatibility Level 8.
          </documentation>
        </annotation>
      </element>
      <element name="VQM" type="cdr:VQMType" maxOccurs="1" minOccurs="0">
        <annotation>
          <documentation>Voice Quality Monitoring (VQM) logs for the call.
          </documentation>
        </annotation>
      </element>
    </sequence>

    <!--********************************************************************-->
    <!-- Now define the attributes for the element.  Note that if you       -->
    <!-- extend this list of attributes you should go and remove them from  -->
    <!-- the derived types where they don't make sense in order to make sure-->
    <!-- they are only used appropriately. Set use="prohibited" in subtypes.-->
    <!--********************************************************************-->
    <attribute name="subscribergroup" type="string" use="optional">
      <annotation>
        <documentation>For onswitch subscribers, records the Subscriber Group
          that contains this Subscriber.
        </documentation>
      </annotation>
    </attribute>
    <attribute name="privacy" type="cdr:PrivacyType" use="optional">
      <annotation>
        <documentation>Specifies whether the party's details should be
          disclosed in billing.
        </documentation>
      </annotation>
    </attribute>
    <attribute name="billingtype" type="cdr:BillingTypeType" use="optional">
      <annotation>
        <documentation>Specifies the kind of billing generated for this
          subscriber. This attribute will always be present for subscribers
          hosted on the switch but not for trunk party types.
        </documentation>
      </annotation>
    </attribute>
    <attribute name="cpc" type="cdr:CallingPartyCategoryType"
               use="optional">
      <annotation>
        <documentation>Specifies the party's Calling Party's Category. This
          attribute will always be present for subscribers hosted on the switch
          and trunk part types, but not for application server party types.

          Introduced: Version 1.0, Compatibility Level 3.
        </documentation>
      </annotation>
    </attribute>
    <attribute name="ani-ii" type="cdr:ANI-IIType" use="optional">
      <annotation>
        <documentation>Specifies the party's ANI-II digits. This
          attribute will always be present for subscribers hosted on the switch
          and trunk part types, but not for application server party types.

          Introduced: Version 1.0, Compatibility Level 3.
        </documentation>
      </annotation>
    </attribute>
  </complexType>

  <!--**********************************************************************-->
  <!-- A type to represent individual lines                                 -->
  <!--**********************************************************************-->
  <complexType name="IndividualLinePartyType">
    <annotation>
      <documentation>Specifies the details of a user with an individual line on
        this system.

        This is a concrete derivation of the abstract PartyType. Parsers may
        use the value of the attribute xsi:type, which will be set to
        "IndividualLinePartyType" to determine what kind of
        party is being described.
      </documentation>
    </annotation>
    <complexContent>
      <restriction base="cdr:PartyType">
        <sequence>
          <element name="SubscriberAddr" type="cdr:AddressType"
                   minOccurs="1" maxOccurs="1">
            <annotation>
              <documentation>See "cdr:PartyType".</documentation>
            </annotation>
          </element>
          <element name="CallingPartyAddr" type="cdr:AddressType"
                   minOccurs="1" maxOccurs="1">
            <annotation>
              <documentation>See "cdr:PartyType".</documentation>
            </annotation>
          </element>
          <element name="ChargeAddr" type="cdr:AddressType"
                   minOccurs="1" maxOccurs="1">
            <annotation>
              <documentation>See "cdr:PartyType".</documentation>
            </annotation>
          </element>
          <element name="UserAgent" type="cdr:UserAgentType"
                   minOccurs="0" maxOccurs="1">
            <annotation>
              <documentation>See "cdr:PartyType".</documentation>
            </annotation>
          </element>
          <element name="SIPCallId" type="cdr:SIPCallIdType"
                   minOccurs="0" maxOccurs="1">
            <annotation>
              <documentation>See "cdr:PartyType".</documentation>
            </annotation>
          </element>
        </sequence>
        <attribute name="subscribergroup" type="string" use="required">
          <annotation>
            <documentation>See "cdr:PartyType".</documentation>
          </annotation>
        </attribute>
        <attribute name="privacy" type="cdr:PrivacyType" use="required">
          <annotation>
            <documentation>See "cdr:PartyType".</documentation>
          </annotation>
        </attribute>
        <attribute name="billingtype" type="cdr:BillingTypeType"
                   use="required">
          <annotation>
            <documentation>See "cdr:PartyType".</documentation>
          </annotation>
        </attribute>
        <attribute name="cpc"
                   type="cdr:CallingPartyCategoryType"
                   use="optional">
          <annotation>
            <documentation>See "cdr:PartyType".</documentation>
          </annotation>
        </attribute>
        <attribute name="ani-ii" type="cdr:ANI-IIType" use="optional">
          <annotation>
            <documentation>See "cdr:PartyType".</documentation>
          </annotation>
        </attribute>
      </restriction>
    </complexContent>
  </complexType>

  <!--**********************************************************************-->
  <!-- A type to represent individual lines                                 -->
  <!--**********************************************************************-->
  <complexType name="MLHGPilotPartyType">
    <annotation>
      <documentation>Specifies the details of a user with a Multi Line Hunt
        Group (MLHG) line on this system.

        This is a concrete derivation of the abstract PartyType. Parsers may
        use the value of the attribute xsi:type, which will be set to
        "MLHGPilotPartyType" to determine what kind of party is being
        described.
      </documentation>
    </annotation>
    <complexContent>
      <restriction base="cdr:PartyType">
        <sequence>
          <element name="SubscriberAddr" type="cdr:AddressType"
                   minOccurs="1" maxOccurs="1">
            <annotation>
              <documentation>See "cdr:PartyType".</documentation>
            </annotation>
          </element>
          <element name="CallingPartyAddr" type="cdr:AddressType"
                   minOccurs="1" maxOccurs="1">
            <annotation>
              <documentation>See "cdr:PartyType".</documentation>
            </annotation>
          </element>
          <element name="ChargeAddr" type="cdr:AddressType"
                   minOccurs="1" maxOccurs="1">
            <annotation>
              <documentation>See "cdr:PartyType".</documentation>
            </annotation>
          </element>
          <element name="BusinessGroupName" type="string"
                   minOccurs="1" maxOccurs="1">
            <annotation>
              <documentation>See "cdr:PartyType".</documentation>
            </annotation>
          </element>
          <element name="Extension" type="string"
                   minOccurs="0" maxOccurs="1">
            <annotation>
              <documentation>See "cdr:PartyType".</documentation>
            </annotation>
          </element>
          <element name="SIPCallId" type="cdr:SIPCallIdType"
                   minOccurs="0" maxOccurs="1">
            <annotation>
              <documentation>See "cdr:PartyType".</documentation>
            </annotation>
          </element>
        </sequence>
        <attribute name="subscribergroup" type="string" use="required">
          <annotation>
            <documentation>See "cdr:PartyType".</documentation>
          </annotation>
        </attribute>
        <attribute name="privacy" type="cdr:PrivacyType" use="required">
          <annotation>
            <documentation>See "cdr:PartyType".</documentation>
          </annotation>
        </attribute>
        <attribute name="billingtype" type="cdr:BillingTypeType"
                   use="required">
          <annotation>
            <documentation>See "cdr:PartyType".</documentation>
          </annotation>
        </attribute>
        <attribute name="cpc"
                   type="cdr:CallingPartyCategoryType"
                   use="optional">
          <annotation>
            <documentation>See "cdr:PartyType".</documentation>
          </annotation>
        </attribute>
        <attribute name="ani-ii" type="cdr:ANI-IIType" use="optional">
          <annotation>
            <documentation>See "cdr:PartyType".</documentation>
          </annotation>
        </attribute>
      </restriction>
    </complexContent>
  </complexType>

  <!--**********************************************************************-->
  <!-- A type to represent MADNs                                            -->
  <!--**********************************************************************-->
  <complexType name="MADNPartyType">
    <annotation>
      <documentation>Specifies the details of a user with a Multiple Appearance
        Directory Number (MADN) on this system.

        This is a concrete derivation of the abstract PartyType. Parsers may
        use the value of the attribute xsi:type, which will be set to
        "MADNPartyType" to determine what kind of party is being described.
      </documentation>
    </annotation>
    <complexContent>
      <restriction base="cdr:PartyType">
        <sequence>
          <element name="SubscriberAddr" type="cdr:AddressType"
                   minOccurs="1" maxOccurs="1">
            <annotation>
              <documentation>See "cdr:PartyType".</documentation>
            </annotation>
          </element>
          <element name="CallingPartyAddr" type="cdr:AddressType"
                   minOccurs="1" maxOccurs="1">
            <annotation>
              <documentation>See "cdr:PartyType".</documentation>
            </annotation>
          </element>
          <element name="ChargeAddr" type="cdr:AddressType"
                   minOccurs="1" maxOccurs="1">
            <annotation>
              <documentation>See "cdr:PartyType".</documentation>
            </annotation>
          </element>
          <element name="BusinessGroupName" type="string"
                   minOccurs="1" maxOccurs="1">
            <annotation>
              <documentation>See "cdr:PartyType".</documentation>
            </annotation>
          </element>
          <element name="Extension" type="string"
                   minOccurs="0" maxOccurs="1">
            <annotation>
              <documentation>See "cdr:PartyType".</documentation>
            </annotation>
          </element>
          <element name="SIPCallId" type="cdr:SIPCallIdType"
                   minOccurs="0" maxOccurs="1">
            <annotation>
              <documentation>See "cdr:PartyType".</documentation>
            </annotation>
          </element>
        </sequence>
        <attribute name="subscribergroup" type="string" use="required">
          <annotation>
            <documentation>See "cdr:PartyType".</documentation>
          </annotation>
        </attribute>
        <attribute name="privacy" type="cdr:PrivacyType" use="required">
          <annotation>
            <documentation>See "cdr:PartyType".</documentation>
          </annotation>
        </attribute>
        <attribute name="billingtype" type="cdr:BillingTypeType"
                   use="required">
          <annotation>
            <documentation>See "cdr:PartyType".</documentation>
          </annotation>
        </attribute>
        <attribute name="cpc"
                   type="cdr:CallingPartyCategoryType"
                   use="optional">
          <annotation>
            <documentation>See "cdr:PartyType".</documentation>
          </annotation>
        </attribute>
        <attribute name="ani-ii" type="cdr:ANI-IIType" use="optional">
          <annotation>
            <documentation>See "cdr:PartyType".</documentation>
          </annotation>
        </attribute>
      </restriction>
    </complexContent>
  </complexType>

  <!--**********************************************************************-->
  <!-- A type to represent parties connected over a trunk.                  -->
  <!--**********************************************************************-->
  <complexType name="NetworkTrunkPartyType">
    <annotation>
      <documentation>Specifies the details of a party connected over a network
        trunk to this system.

        This is a concrete derivation of the abstract PartyType. Parsers may
        use the value of the attribute xsi:type, which will be set to
        "NetworkTrunkPartyType" to determine what kind of
        party is being described.
      </documentation>
    </annotation>
    <complexContent>
      <restriction base="cdr:PartyType">
        <sequence>
          <element name="TrunkGroup" type="cdr:TrunkGroupType"
                   maxOccurs="1" minOccurs="1">
            <annotation>
              <documentation>See "cdr:PartyType".</documentation>
            </annotation>
          </element>
          <element name="CallingPartyAddr" type="cdr:AddressType"
                   minOccurs="0" maxOccurs="1">
            <annotation>
              <documentation>See "cdr:PartyType".</documentation>
            </annotation>
          </element>
          <element name="UserAgent" type="cdr:UserAgentType"
                   minOccurs="0" maxOccurs="1">
            <annotation>
              <documentation>See "cdr:PartyType".</documentation>
            </annotation>
          </element>
          <element name="SIPCallId" type="cdr:SIPCallIdType"
                   minOccurs="0" maxOccurs="1">
            <annotation>
              <documentation>See "cdr:PartyType".</documentation>
            </annotation>
          </element>
          <element name="SignalingType" type="cdr:SignalingTypeType"
                   minOccurs="0" maxOccurs="1">
            <annotation>
              <documentation>See "cdr:PartyType".</documentation>
            </annotation>
          </element>
          <element name="SourceAddresses" type="cdr:AddressesType"
                   minOccurs="0" maxOccurs="1">
            <annotation>
              <documentation>See "cdr:PartyType".
              </documentation>
            </annotation>
          </element>
          <element name="DestAddresses" type="cdr:AddressesType"
                   minOccurs="0" maxOccurs="1">
            <annotation>
              <documentation>See "cdr:PartyType".
              </documentation>
            </annotation>
          </element>
          <element name="RequestURI" type="string"
                   minOccurs="0" maxOccurs="1">
            <annotation>
              <documentation>See "cdr:PartyType".
              </documentation>
            </annotation>
          </element>
          <element name="From" type="string"
                   minOccurs="0" maxOccurs="1">
            <annotation>
              <documentation>See "cdr:PartyType".
              </documentation>
            </annotation>
          </element>
          <element name="To" type="string"
                   minOccurs="0" maxOccurs="1">
            <annotation>
              <documentation>See "cdr:PartyType".
              </documentation>
            </annotation>
          </element>
          <element name="Contact" type="string"
                   minOccurs="0" maxOccurs="1">
            <annotation>
              <documentation>See "cdr:PartyType".
              </documentation>
            </annotation>
          </element>
          <element name="Via" type="string"
                   minOccurs="0" maxOccurs="1">
            <annotation>
              <documentation>See "cdr:PartyType".
              </documentation>
            </annotation>
          </element>
          <element name="PAssertedIdentity" type="string"
                   minOccurs="0" maxOccurs="1">
            <annotation>
              <documentation>See "cdr:PartyType".
              </documentation>
            </annotation>
          </element>
          <element name="RemotePartyId" type="string"
                   minOccurs="0" maxOccurs="1">
            <annotation>
              <documentation>See "cdr:PartyType".
              </documentation>
            </annotation>
          </element>
          <element name="PAccessNetworkInfo" type="string"
                   minOccurs="0" maxOccurs="1">
            <annotation>
              <documentation>See "cdr:PartyType".
              </documentation>
            </annotation>
          </element>
          <element name="Reason" type="cdr:TrunkFailReasonType" maxOccurs="2"
                   minOccurs="0">
            <annotation>
              <documentation>See "cdr:PartyType".</documentation>
            </annotation>
          </element>
          <element name="Gateway" type="string"
                   minOccurs="0" maxOccurs="1">
             <annotation>
               <documentation>See "cdr:PartyType".
               </documentation>
            </annotation>
          </element>
          <element name="VQM" type="cdr:VQMType" minOccurs="0" maxOccurs="1">
            <annotation>
              <documentation>See "cdr:PartyType".
              </documentation>
            </annotation>
          </element>
        </sequence>
        <attribute name="privacy" type="cdr:PrivacyType" use="optional">
          <annotation>
            <documentation>See "cdr:PartyType".</documentation>
          </annotation>
        </attribute>
        <attribute name="cpc"
                   type="cdr:CallingPartyCategoryType"
                   use="optional">
          <annotation>
            <documentation>See "cdr:PartyType".</documentation>
          </annotation>
        </attribute>
        <attribute name="ani-ii" type="cdr:ANI-IIType" use="optional">
          <annotation>
            <documentation>See "cdr:PartyType".</documentation>
          </annotation>
        </attribute>
        <attribute name="subscribergroup" type="string" use="prohibited"/>
        <attribute name="billingtype" type="cdr:BillingTypeType"
                   use="prohibited"/>
      </restriction>
    </complexContent>
  </complexType>

  <!--**********************************************************************-->
  <!-- A type to represent lines within Business Groups                     -->
  <!--**********************************************************************-->
  <complexType name="BusinessLinePartyType">
    <annotation>
      <documentation>Specifies the details of a user within a Business Group on
        this system.

        This is a concrete derivation of the abstract PartyType. Parsers may
        use the value of the attribute xsi:type, which will be set to
        "BusinessLinePartyType" to determine what kind of
        party is being described.
      </documentation>
    </annotation>
    <complexContent>
      <restriction base="cdr:PartyType">
        <sequence>
          <element name="SubscriberAddr" type="cdr:AddressType"
                   minOccurs="1" maxOccurs="1">
            <annotation>
              <documentation>See "cdr:PartyType".</documentation>
            </annotation>
          </element>
          <element name="CallingPartyAddr" type="cdr:AddressType"
                   minOccurs="1" maxOccurs="1">
            <annotation>
              <documentation>See "cdr:PartyType".</documentation>
            </annotation>
          </element>
          <element name="ChargeAddr" type="cdr:AddressType"
                   minOccurs="1" maxOccurs="1">
            <annotation>
              <documentation>See "cdr:PartyType".</documentation>
            </annotation>
          </element>
          <element name="BusinessGroupName" type="string"
                   minOccurs="1" maxOccurs="1">
            <annotation>
              <documentation>See "cdr:PartyType".</documentation>
            </annotation>
          </element>
          <element name="Extension" type="string"
                   minOccurs="0" maxOccurs="1">
            <annotation>
              <documentation>See "cdr:PartyType".</documentation>
            </annotation>
          </element>
          <element name="UserAgent" type="cdr:UserAgentType"
                   minOccurs="0" maxOccurs="1">
            <annotation>
              <documentation>See "cdr:PartyType".</documentation>
            </annotation>
          </element>
          <element name="SIPCallId" type="cdr:SIPCallIdType"
                   minOccurs="0" maxOccurs="1">
            <annotation>
              <documentation>See "cdr:PartyType".</documentation>
            </annotation>
          </element>
        </sequence>
        <attribute name="privacy" type="cdr:PrivacyType" use="required">
          <annotation>
            <documentation>See "cdr:PartyType".</documentation>
          </annotation>
        </attribute>
        <attribute name="billingtype" type="cdr:BillingTypeType"
                   use="required">
          <annotation>
            <documentation>See "cdr:PartyType".</documentation>
          </annotation>
        </attribute>
        <attribute name="subscribergroup" type="string" use="optional">
          <annotation>
            <documentation>See "cdr:PartyType".</documentation>
          </annotation>
        </attribute>
        <attribute name="cpc"
                   type="cdr:CallingPartyCategoryType"
                   use="optional">
          <annotation>
            <documentation>See "cdr:PartyType".</documentation>
          </annotation>
        </attribute>
        <attribute name="ani-ii" type="cdr:ANI-IIType" use="optional">
          <annotation>
            <documentation>See "cdr:PartyType".</documentation>
          </annotation>
        </attribute>
      </restriction>
    </complexContent>
  </complexType>

  <!--**********************************************************************-->
  <!-- A type to represent PBXs connected to this system                    -->
  <!--**********************************************************************-->
  <complexType name="PBXPartyType">
    <annotation>
      <documentation>Specifies the details of a user on a subtended PBX line on
        this system.

        This is a concrete derivation of the abstract PartyType. Parsers may
        use the value of the attribute xsi:type, which will be set to
        "PBXPartyType" to determine what kind of party is being
        described.
      </documentation>
    </annotation>
    <complexContent>
      <restriction base="cdr:PartyType">
        <sequence>
          <element name="TrunkGroup" type="cdr:TrunkGroupType"
                   minOccurs="0" maxOccurs="1">
            <annotation>
              <documentation>See "cdr:PartyType".

                Introduced: Version 1.0, Compatibility Level 2.
              </documentation>
            </annotation>
          </element>
          <element name="SubscriberAddr" type="cdr:AddressType"
                   minOccurs="1" maxOccurs="1">
            <annotation>
              <documentation>See "cdr:PartyType".</documentation>
            </annotation>
          </element>
          <element name="CallingPartyAddr" type="cdr:AddressType"
                   minOccurs="1" maxOccurs="1">
            <annotation>
              <documentation>See "cdr:PartyType".</documentation>
            </annotation>
          </element>
          <element name="ChargeAddr" type="cdr:AddressType"
                   minOccurs="1" maxOccurs="1">
            <annotation>
              <documentation>See "cdr:PartyType".</documentation>
            </annotation>
          </element>
          <element name="BusinessGroupName" type="string"
                   minOccurs="0" maxOccurs="1">
            <annotation>
              <documentation>See "cdr:PartyType". Note that PBXs may either be
                within a Business Group, in which case this element will be
                present, or within the context of the PSTN, in which case this
                element will be absent.
              </documentation>
            </annotation>
          </element>
          <element name="Extension" type="string"
                   minOccurs="0" maxOccurs="1">
            <annotation>
              <documentation>See "cdr:PartyType".</documentation>
            </annotation>
          </element>
          <element name="UserAgent" type="cdr:UserAgentType"
                   minOccurs="0" maxOccurs="1">
            <annotation>
              <documentation>See "cdr:PartyType".</documentation>
            </annotation>
          </element>
          <element name="SIPCallId" type="cdr:SIPCallIdType"
                   minOccurs="0" maxOccurs="1">
            <annotation>
              <documentation>See "cdr:PartyType".</documentation>
            </annotation>
          </element>
        </sequence>
        <attribute name="subscribergroup" type="string" use="required">
          <annotation>
            <documentation>See "cdr:PartyType".</documentation>
          </annotation>
        </attribute>
        <attribute name="privacy" type="cdr:PrivacyType" use="required">
          <annotation>
            <documentation>See "cdr:PartyType".</documentation>
          </annotation>
        </attribute>
        <attribute name="billingtype" type="cdr:BillingTypeType"
                   use="required">
          <annotation>
            <documentation>See "cdr:PartyType".</documentation>
          </annotation>
        </attribute>
        <attribute name="cpc"
                   type="cdr:CallingPartyCategoryType"
                   use="optional">
          <annotation>
            <documentation>See "cdr:PartyType".</documentation>
          </annotation>
        </attribute>
        <attribute name="ani-ii" type="cdr:ANI-IIType" use="optional">
          <annotation>
            <documentation>See "cdr:PartyType".</documentation>
          </annotation>
        </attribute>
      </restriction>
    </complexContent>
  </complexType>

  <!--**********************************************************************-->
  <!-- A type to represent an application server delivering a service       -->
  <!--**********************************************************************-->
  <complexType name="AppServerPartyType">
    <annotation>
      <documentation>Specifies the details of an application server that was
        a party to the call.

        This PartyType gets used in two distinct scenarios. If a call
        terminates on an application server, for example a voicemail server,
        the terminating party will be the appropriate AppServerPartyType.

        Secondly, this type is used when an application server originates a
        call on behalf of the served user. For example, if A calls B and a
        terminating application server originates a call to C there will be CDR
        with individual line parties for the A-B call and a separate CDR with
        an originating AppServerPartytype containing a ServedParty of B and a
        terminating party of a type appropriate to C's line. If the call does
        not originate the call on behalf of another user, the ServedParty
        represents the application server itself and will also be of type
        AppServerPartyType.

        This is a concrete derivation of the abstract PartyType. Parsers may
        use the value of the attribute xsi:type, which will be set to
        "AppServerPartyType" to determine what kind of party is being
        described.
      </documentation>
    </annotation>
    <complexContent>
      <restriction base="cdr:PartyType">
        <sequence>
          <element name="SubscriberAddr" type="cdr:AddressType"
                   minOccurs="0" maxOccurs="1">
            <annotation>
              <documentation>See "cdr:PartyType".</documentation>
            </annotation>
          </element>
          <element name="CallingPartyAddr" type="cdr:AddressType"
                   minOccurs="0" maxOccurs="1">
            <annotation>
              <documentation>See "cdr:PartyType".</documentation>
            </annotation>
          </element>
          <element name="ChargeAddr" type="cdr:AddressType"
                   minOccurs="0" maxOccurs="1">
            <annotation>
              <documentation>See "cdr:PartyType".</documentation>
            </annotation>
          </element>
          <element name="AppServerAddr" type="cdr:AddressType"
                   minOccurs="0" maxOccurs="1">
             <annotation>
              <documentation>See "cdr:PartyType".</documentation>
            </annotation>
          </element>
          <element name="ServedParty" type="cdr:PartyType"
                   minOccurs="0" maxOccurs="1">
            <annotation>
              <documentation>See "cdr:PartyType".</documentation>
            </annotation>
          </element>
          <element name="SIPCallId" type="cdr:SIPCallIdType"
                   minOccurs="0" maxOccurs="1">
            <annotation>
              <documentation>See "cdr:PartyType".</documentation>
            </annotation>
          </element>
        </sequence>
        <attribute name="privacy" type="cdr:PrivacyType" use="required">
          <annotation>
            <documentation>See "cdr:PartyType".</documentation>
          </annotation>
        </attribute>
        <attribute name="subscribergroup" type="string" use="prohibited"/>
        <attribute name="billingtype" type="cdr:BillingTypeType"
                   use="prohibited"/>
        <attribute name="cpc"
                   type="cdr:CallingPartyCategoryType"
                   use="prohibited"/>
        <attribute name="ani-ii" type="cdr:ANI-IIType" use="prohibited"/>
      </restriction>
    </complexContent>
  </complexType>

  <!--**********************************************************************-->
  <!-- A type to represent the absence of a party.                          -->
  <!--**********************************************************************-->
  <complexType name="NoPartyPartyType">
    <annotation>
      <documentation>An element that represents the absence of a party in a
        call.

        This PartyType may still contain calling side addresses, if the call
        originated from the CFS on behalf of a subscriber, for example as a
        reminder call.

        This is a concrete derivation of the abstract PartyType. Parsers may
        use the value of the attribute xsi:type, which will be set to
        "NoPartyType" to determine what kind of party is being
        described.
      </documentation>
    </annotation>
    <complexContent>
      <restriction base="cdr:PartyType">
        <sequence>
          <element name="SubscriberAddr" type="cdr:AddressType"
                   minOccurs="0" maxOccurs="1">
            <annotation>
              <documentation>See "cdr:PartyType".</documentation>
            </annotation>
          </element>
          <element name="CallingPartyAddr" type="cdr:AddressType"
                   minOccurs="0" maxOccurs="1">
            <annotation>
              <documentation>See "cdr:PartyType".</documentation>
            </annotation>
          </element>
          <element name="ChargeAddr" type="cdr:AddressType"
                   minOccurs="0" maxOccurs="1">
            <annotation>
              <documentation>See "cdr:PartyType".</documentation>
            </annotation>
          </element>
          <element name="SIPCallId" type="cdr:SIPCallIdType"
                   minOccurs="0" maxOccurs="1">
            <annotation>
              <documentation>See "cdr:PartyType".</documentation>
            </annotation>
          </element>
          <element name="Reason" type="cdr:TrunkFailReasonType"
                   minOccurs="0" maxOccurs="2">
            <annotation>
              <documentation>See "cdr:PartyType".</documentation>
            </annotation>
          </element>
        </sequence>
        <attribute name="subscribergroup" type="string" use="prohibited"/>
        <attribute name="privacy" type="cdr:PrivacyType" use="prohibited"/>
        <attribute name="billingtype" type="cdr:BillingTypeType"
                   use="prohibited"/>
      </restriction>
    </complexContent>
  </complexType>

  <!--**********************************************************************-->
  <!-- A type to represent a customer code.                                 -->
  <!--**********************************************************************-->
  <complexType name="CustomerCodeType">
    <annotation>
      <documentation>Specifies the customer code associated with a call. The
        namespace of the customer code may depend on the underlying signaling
        technology so the type attribute should be used to decide how to
        interpret the value.

        Introduced: Version 1.0, Compatibility Level 2.
      </documentation>
    </annotation>
    <simpleContent>
      <extension base="cdr:CustomerCodeValueType">
        <attribute name="type" type="cdr:CustomerCodeTypeType" use="required">
          <annotation>
            <documentation>Specifies what kind of customer code is contained
              in the element.
            </documentation>
          </annotation>
        </attribute>
        <attribute name="qualifier"
                   type="cdr:CustomerCodeQualifierType" use="optional">
          <annotation>
            <documentation>Specifies the qualifier of the customer code.
            </documentation>
          </annotation>
        </attribute>
        <attribute name="service"
                   type="cdr:CustomerCodeServiceType" use="optional">
          <annotation>
            <documentation>Specifies the service of the customer code.

              Introduced: Version 1.0, Compatibility Level 3.
            </documentation>
          </annotation>
        </attribute>
      </extension>
    </simpleContent>
  </complexType>

  <!--**********************************************************************-->
  <!-- A type to represent the CDR for a Call                               -->
  <!--**********************************************************************-->
  <complexType name="CallType">
    <annotation>
      <documentation>Specifies the details representing one leg of a call.
      </documentation>
    </annotation>
    <sequence>
      <element name="CallType" type="cdr:CallTypeType"
        maxOccurs="1"  minOccurs="1">
        <annotation>
          <documentation>Specifies the type of call described in the CDR. The
              type of a call is determined by the attributes set in Number
              Validation.
            </documentation>
        </annotation>
      </element>
      <element name="Features" type="cdr:FeaturesType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Lists the features (perhaps none) used during the
            call.
          </documentation>
        </annotation>
      </element>
      <element name="ReleasingParty" type="cdr:ReleasingPartyType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Indicates which party was responsible for the release
            of the call. Absent from "partial" CDRs generated for long duration
            calls.
          </documentation>
        </annotation>
       </element>
      <element name="ReleaseReason" type="cdr:ReleaseReasonType"
               minOccurs="0" maxOccurs="3">
        <annotation>
          <documentation>Indicates why the call was released. Absent from
            "partial" CDRs generated for long duration calls. A Q.850 reason
            will always be present, except on long-duration records as noted
            above; SIP response codes will only be present when a backwards
            SIP response code was received to an outbound call setup attempt.

            If SIP equivalents to the Q.850 cuases are required, use an
            appropriate mapping, such as "Table 21/Q.1912.5 â Receipt of the
            Release message (REL)" available from
            http://www.itu.int/rec/T-REC-Q.1912.5-200403-I/en.
          </documentation>
        </annotation>
      </element>
      <element name="InternalIndex" type="unsignedLong"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Specifies the internal index for the call.

            Introduced: Version 1.0, Compatibility Level 7.
          </documentation>
        </annotation>
      </element>
      <element name="OrigParty" type="cdr:PartyType"
               minOccurs="1" maxOccurs="1">
        <annotation>
          <documentation>Details the party that originated the call.
          </documentation>
        </annotation>
      </element>
      <element name="TermParty" type="cdr:PartyType"
               minOccurs="1" maxOccurs="1">
        <annotation>
          <documentation>Details the party that terminated the call.
          </documentation>
        </annotation>
      </element>
      <element name="RoutingInfo" type="cdr:RoutingInfoType" maxOccurs="1"
        minOccurs="1">
        <annotation>
          <documentation>Provides detail of how the call was processed through
            the system: the original address as entered by the user, how it was
            normalised by the system and then finally the routing treatment.
          </documentation>
        </annotation>
      </element>
      <element name="CarrierSelectInfo" type="cdr:CarrierSelectInfoType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Details the carrier selection treatment of the call.
            This element is only present if carrier selection was undertaken
            for this call.
          </documentation>
        </annotation>
      </element>
      <element name="CallForwardInfo" type="cdr:CallForwardInfoType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Details the call-forwarding treatment for calls that
            have been forwarded. This element is only present for forwarded
            calls.
          </documentation>
        </annotation>
      </element>
      <element name="NPInfo" type="cdr:NPInfoType"
               minOccurs="0" maxOccurs="2">
        <annotation>
          <documentation>Details number portabililty lookups undertaken when
            handling this call. These elements are only present when an LRN
            lookup has been undertaken in North American deployments. The
            elements are always absent for other LNP schemes.
          </documentation>
        </annotation>
      </element>
      <element name="IntelligentNetworkInfo"
               type="cdr:IntelligentNetworkInfoType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Details Intelligent Networking treatment applied to
            the call. This element is only present if there has been IN
            involvement in the call.
          </documentation>
        </annotation>
      </element>
      <element name="AccountCodeInfo"
               type="cdr:AccountCodeInfoType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Details the account code that the user provided in
            order to authenticate themselves to the ANI Screening/ Mandatory
            Account Codes service. This element is only present if there has
            been ANI/MAC involvement in the call.
          </documentation>
        </annotation>
      </element>
      <element name="CustomerInfo" type="cdr:CustomerCodeType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Indicates the customer information for the call.

            Introduced: Version 1.0, Compatibility Level 2.
          </documentation>
        </annotation>
      </element>
      <element name="SignalingInfo"
               type="cdr:SignalingInfoType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Details the signaling associated with the call.
            Contents will depend on the signaling stacks associated with the
            call.

            Introduced: Version 1.0, Compatibility Level 2.
          </documentation>
        </annotation>
      </element>
      <element name="MessageBillingIndex"
               type="cdr:MessageBillingIndexType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Details the tariff plan that applies to the Subscriber
            or Subscriber Group. This element is only present if there is a
            Message Billing Index set for the call during Number Validation.
          </documentation>
        </annotation>
      </element>
      <element name="IcSeizeTime" type="cdr:TimestampType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Specifies when the incoming call was initially
            detected.

            Introduced: Version 1.0, Compatibility Level 2.
          </documentation>
        </annotation>
      </element>
       <element name="OgSeizeTime" type="cdr:TimestampType"
               minOccurs="1" maxOccurs="1">
        <annotation>
          <documentation>Specifies when the outgoing route was selected. There
            are some call types (e.g. in some forwarding scenarios) when a call
            may not seize a route, in which case this element will be present
            but empty.
          </documentation>
        </annotation>
      </element>
      <element name="RingingTime" type="cdr:TimestampType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Specifies when the called party was alerted,
            corresponding to a backward SIP 180 response or an ISUP ACM/CPG.
            There are some call types (e.g. immediately answered calls) when a
            call may not have a ringing time, in which case this element will
            be present but empty.

            Note that if the call is forked by a downstream proxy and multiple
            18X responses are received, this corresponds to the time of the
            first one, even if a different device eventually answers the call.

            Introduced: Version 1.0, Compatibility Level 2.
          </documentation>
        </annotation>
      </element>
      <element name="ConnectTime" type="cdr:TimestampType"
               minOccurs="1" maxOccurs="1">
        <annotation>
          <documentation>Specifies when the caller was connected to the called
            party. There are some call types (e.g. unanswered calls) when a
            call may not have a connect time, in which case this element will
            be present but empty.
          </documentation>
        </annotation>
      </element>
      <element name="DisconnectTime" type="cdr:TimestampType"
               minOccurs="0" maxOccurs="1">
         <annotation>
          <documentation>Specifies when the media in call was released.

            Introduced: Version 1.0, Compatibility Level 7.
          </documentation>
        </annotation>
      </element>
      <element name="PostDialDelay" type="unsignedLong"
               minOccurs="0" maxOccurs="1">
         <annotation>
          <documentation>The time elapsed between when the last digit of the
            phone number is dialed and when the caller hears the call
            indication (ringing or busy).

            It is equal to  the difference between the IcSeizeTime
            and RingingTime elements.

            Introduced: Version 1.0, Compatibility Level 8.
          </documentation>
        </annotation>
      </element>
      <element name="PGRD" type="unsignedLong"
               minOccurs="0" maxOccurs="1">
         <annotation>
          <documentation>Post Gateway Ringing Delay.

            This is defined as the time elapsed between a request for call
            setup and the alerting signal for that call.

            It is equal to the difference between the OgSeizeTime and
            RingingTime elements.

            Introduced: Version 1.0, Compatibility Level 8.
          </documentation>
        </annotation>
      </element>
      <element name="PGAD" type="unsignedLong"
               minOccurs="0" maxOccurs="1">
         <annotation>
          <documentation>The time elapsed between a request for call setup and
            the answer signal for that call.

            It is equal to the difference between the OgSeizeTime and
            ConnectTime elements.

            Introduced: Version 1.0, Compatibility Level 8.
          </documentation>
        </annotation>
      </element>
      <element name="ReleaseTime" type="cdr:TimestampType"
               minOccurs="1" maxOccurs="1">
         <annotation>
          <documentation>Specifies when the caller was disconnected from the
            called party. There are some call types (e.g. unanswered calls)
            when a call may not have a release time, in which case this element
            will be present but empty.
          </documentation>
        </annotation>
      </element>
      <element name="CompleteTime" type="cdr:TimestampType"
               minOccurs="0" maxOccurs="1">
         <annotation>
          <documentation>Specifies when the call was actually released. This
            will normally be the same as the &lt;ReleaseTime> but there are
            some circumstances (e.g. if the call is released after a polling
            failure) when the &lt;ReleaseTime> can be significantly earlier
            than the &lt;CompleteTime>.

            The &lt;ReleaseTime> should be used to minimize the chance of
            over-billing subscribers for calls, while the &lt;CompleteTime> may
            be more useful for correlating records with other network nodes.

            Introduced: Version 1.0, Compatibility Level 4.
          </documentation>
        </annotation>
      </element>
      <element name="LongDurationInfo" type="cdr:LongDurationInfoType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Provides interim information for long-duration calls
            prior to the termination of the call in order to protect against
            the loss of billing information in failure scenarios. This element
            is only present in partial CDRs for long-duration calls.
          </documentation>
        </annotation>
      </element>
      <element name="UDAs" type="cdr:UDAsType" maxOccurs="1" minOccurs="0">
        <annotation>
          <documentation>User Defined Attributes associated with this call.
            Each User Defined Attribute may be used to report customer specific
            call information.

            If no User Defined Attributes have been associated with this call
            then this container may be either absent or present but empty.

            Introduced: Version 1.0, Compatibility Level 3.
          </documentation>
        </annotation>
      </element>
      <element name="IncomingGateway" type="string"
               minOccurs="0" maxOccurs="1">
         <annotation>
          <documentation>Specifies the name of the media gateway used on the
            inbound branch of a call.

            From Compatibility Level 8, this is replaced with the Gateway
            field under an OrigParty type.

            Introduced: Version 1.0, Compatibility Level 7.
            Removed: Version 1.0, Compatibility Level 8.
          </documentation>
        </annotation>
      </element>
      <element name="OutgoingGateway" type="string"
               minOccurs="0" maxOccurs="1">
         <annotation>
          <documentation>Specifies the name of the media gateway used on the
            outbound branch of a call.

            From Compatibility Level 8, this is replaced with the Gateway
            field under a TermParty type.

            Introduced: Version 1.0, Compatibility Level 7.
            Removed: Version 1.0, Compatibility Level 8.
          </documentation>
        </annotation>
      </element>
      <element name="ReleaseCause" type="int"
               minOccurs="0" maxOccurs="1">
         <annotation>
          <documentation>Specifies the Q.850 cause value sent in an ISUP
            release message.

            Introduced: Version 1.0, Compatibility Level 7.
          </documentation>
        </annotation>
      </element>
      <element name="SIPIBodyReleaseCause" type="int"
               minOccurs="0" maxOccurs="1">
         <annotation>
          <documentation>Specifies the Q.850 cause value sent in a SIP-I MIME
            body.

            Introduced: Version 1.0, Compatibility Level 7.
          </documentation>
        </annotation>
      </element>
    </sequence>
    <attribute name="seqnum" type="cdr:CDRSeqNumType" use="required">
      <annotation>
        <documentation>Specifies the position of this CDR within this file.

          Note that these sequence numbers may be left padded with zeros.
        </documentation>
      </annotation>
    </attribute>
    <attribute name="error" type="cdr:ErrorType" use="optional" default="no">
      <annotation>
        <documentation>Indicates whether there are any known issues with the
          information in this CDR for this call.
        </documentation>
      </annotation>
    </attribute>
    <attribute name="connected" type="boolean" use="optional" default="false">
      <annotation>
        <documentation>Indicates whether this call was ever connected.
        </documentation>
      </annotation>
    </attribute>
    <attribute name="reestablished" type="boolean"
               use="optional" default="false">
      <annotation>
        <documentation>Indicates whether this call was dropped and
                       re-established.
        </documentation>
      </annotation>
    </attribute>
    <attribute name="correlator" type="string" use="optional">
      <annotation>
        <documentation>Provides a unique reference to enable multiple CDRs for
          the same call leg to be cross-referenced. May be used to correlate
          "partial" CDRs for long-duration calls, or to correlate BAF and XML
          records for the same call.
          There are some circumstances where a correlator is not applicable, in
          which case this attribute is omitted.
          The correlator will be a 10-digit number unless there is an NE
          identifier configured on this system.
        </documentation>
      </annotation>
    </attribute>
    <attribute name="class" type="long" use="optional" default="0">
      <annotation>
        <documentation>Classifies this CDR according to policy defined in
          Number Validation. Except for the value of zero, the meaning of the
          classifier values is not predetermined and may be configured in NV.
          Typical uses include identifying traffic to destinations at a high
          risk of fraud or marking certain calls for subsequent analysis to
          demonstrate compliance to regulatory requirements.

          The value zero is indistinguishable from "not classified", so should
          not be set in NV.

          The classes 1-10 are treated differently to other classes, in that
          they appear in statistics in MetaView and are also counted in the
          &lt;FileFooter> element.
        </documentation>
      </annotation>
    </attribute>
    <attribute name="testcall" type="boolean" use="optional" default="false">
      <annotation>
        <documentation>Indicates whether this call is from a test line.
        </documentation>
      </annotation>
    </attribute>
    <attribute name="operator" type="boolean" use="optional" default="false">
      <annotation>
        <documentation>Indicates whether this call was to/from an Operator.
        </documentation>
      </annotation>
    </attribute>
    <attribute name="longcall" type="boolean" use="optional" default="false">
      <annotation>
        <documentation>Indicates whether this CDR is a partial record for a
          long duration call intended to mitigate the risk of loss of billing
          information in the event of system failure.

          If set "true" this CDR may not relate to the full duration
          of the call, so care should be taken to avoid double-billing
          subscribers for the same call.

          In this case, the &lt;LongDurationCall> child element will contain
          the information needed to determine the correct action
        </documentation>
      </annotation>
    </attribute>
  </complexType>

  <!--**********************************************************************-->
  <!-- A type to represent the CDR for an event                             -->
  <!--**********************************************************************-->
  <complexType name="EventType">
    <annotation>
      <documentation>Specifies the details representing an event. An EventCdr
        represents details of exactly one event.
      </documentation>
    </annotation>
    <sequence>
      <element name="EventType" type="cdr:EventTypeType"
        maxOccurs="1"  minOccurs="1">
        <annotation>
          <documentation>Specifies the kind of event described by the CDR. Note
            that this is not the same as the service that was affected by the
            event.
            </documentation>
        </annotation>
      </element>
      <element name="Feature" type="cdr:FeatureType"
               minOccurs="1" maxOccurs="1">
        <annotation>
          <documentation>Specifies the feature that caused the event to be
            raised.
          </documentation>
        </annotation>
      </element>
      <element name="FeatureInfo" type="cdr:FeatureInfoType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Provides supplementary information related to the
            service and the event.
          </documentation>
        </annotation>
      </element>
      <choice minOccurs="1" maxOccurs="1">
        <element name="OrigParty" type="cdr:PartyType"
                 minOccurs="1" maxOccurs="1">
          <annotation>
            <documentation>Details the party that originated the call.
            </documentation>
          </annotation>
        </element>
        <element name="TermParty" type="cdr:PartyType"
                 minOccurs="1" maxOccurs="1">
          <annotation>
            <documentation>Details the party that terminated the call.
            </documentation>
          </annotation>
        </element>
      </choice>
      <element name="EventTime" type="cdr:TimestampType"
               minOccurs="1" maxOccurs="1">
        <annotation>
          <documentation>Specifies when the event occured.</documentation>
        </annotation>
      </element>
    </sequence>
    <attribute name="seqnum" type="cdr:CDRSeqNumType" use="required">
      <annotation>
        <documentation>Specifies the position of this CDR within this file.

          Note that these sequence numbers may be left padded with zeros.
        </documentation>
      </annotation>
    </attribute>
    <attribute name="error" type="cdr:ErrorType" use="optional" default="no">
      <annotation>
        <documentation>Indicates whether there are any known issues with the
          information in this CDR for this event.
        </documentation>
      </annotation>
    </attribute>
    <attribute name="testcall" type="boolean" use="optional" default="false">
      <annotation>
        <documentation>Indicates whether this call is from a test line.
        </documentation>
      </annotation>
    </attribute>
    <attribute name="correlator" type="string" use="optional">
      <annotation>
        <documentation>Provides a unique reference to enable multiple CDRs for
          the same call leg to be cross-referenced. May be used to correlate
          "partial" CDRs for long-duration calls, or to correlate BAF and XML
          records for the same call.
          There are some circumstances where a correlator is not applicable, in
          which case this attribute is omitted.
          The correlator will be a 10-digit number unless there is an NE
          identifier configured on this system.
          On the Event CDR the correlator may be present to correlate the event
          with the Call CDR that represents the call that caused the event. For
          example, the Event CDR generated when a SIP trunk is "burst" contains
          the correlator of the call that exceeded the trunk's capacity.
        </documentation>
      </annotation>
    </attribute>
  </complexType>

  <!--**********************************************************************-->
  <!-- A type to represent the container for all the CDRs in the file.      -->
  <!--**********************************************************************-->
  <complexType name="CdrsType">
    <annotation>
      <documentation>Contains all of the CDRs in this file.</documentation>
    </annotation>
    <choice maxOccurs="unbounded" minOccurs="0">
      <element name="Call" type="cdr:CallType">
        <annotation>
          <documentation>A CDR representing a regular call.</documentation>
        </annotation>
      </element>
      <element name="Event" type="cdr:EventType">
        <annotation>
          <documentation>A CDR representing an event.</documentation>
        </annotation>
      </element>
     </choice>
  </complexType>

  <!--**********************************************************************-->
  <!-- A type to represent statistics about one class of CDRs.              -->
  <!--**********************************************************************-->
  <complexType name="CDRsByClassType">
    <annotation>
      <documentation>Specifies statistics about a particular class of CDRs.
      </documentation>
    </annotation>
    <sequence>
      <element name="NormalCallCount" type="unsignedLong"
               minOccurs="1" maxOccurs="1">
        <annotation>
          <documentation>Counts how many normal (not forwarded) calls of this
            class are present in the file.
          </documentation>
        </annotation>
      </element>
      <element name="NormalCallDuration" type="cdr:DurationType"
               minOccurs="1" maxOccurs="1">
        <annotation>
          <documentation>Totals the connected duration of normal (not
            forwarded) calls of this class that are present in the file.
          </documentation>
        </annotation>
      </element>
      <element name="ForwardedCallCount" type="unsignedLong"
               minOccurs="1" maxOccurs="1">
        <annotation>
          <documentation>Counts how many forwarded calls of this class are
            present in the file.
          </documentation>
        </annotation>
      </element>
      <element name="ForwardedCallDuration" type="cdr:DurationType"
               minOccurs="1" maxOccurs="1">
        <annotation>
          <documentation>Totals the connected duration of forwarded calls of
            this class that are present in the file.
          </documentation>
        </annotation>
      </element>
    </sequence>
    <attribute name="class" use="required">
      <annotation>
        <documentation>Indicates which value of classifier is described by
          these statistics.
        </documentation>
      </annotation>
      <simpleType>
        <annotation>
          <documentation>Only classes one to ten are described in the
            classifier statistics, although any class may be used in Number
            Validation and is reported in the individual CDRs.
          </documentation>
        </annotation>
        <restriction base="unsignedByte">
          <minInclusive value="1"></minInclusive>
          <maxInclusive value="10"></maxInclusive>
        </restriction>
      </simpleType>
    </attribute>
  </complexType>

  <!--**********************************************************************-->
  <!-- A type to represent the statistics about the special classes of CDR. -->
  <!--**********************************************************************-->
  <complexType name="ClassifiedCDRsType">
    <annotation>
      <documentation>Contains the statistics about the classified CDRs present
        in the file.
      </documentation>
    </annotation>
    <sequence>
      <element name="CDRsByClass" type="cdr:CDRsByClassType" minOccurs="0"
        maxOccurs="10">
        <annotation>
          <documentation>Provides statistics for one of the ten special CDR
            classifier values (1-10). If there are no CDRs of a class present
            in the file then this element will not be present in the
            statistics.
          </documentation>
        </annotation>
      </element>
    </sequence>
  </complexType>

  <!--**********************************************************************-->
  <!-- A type to represent information about the file itself.               -->
  <!--**********************************************************************-->
  <complexType name="FileHeaderType">
    <annotation>
      <documentation>Specifies information about the nature of the billing
        information contained in this file. Information that is only available
        once the file is complete, such as record counts, is provided in the
        corresponding &lt;FileFooter>.
      </documentation>
    </annotation>
    <sequence>
      <element name="EquipmentType" type="string" minOccurs="1" maxOccurs="1">
        <annotation>
          <documentation>Specifies the kind of equipment that created the file.
          </documentation>
        </annotation>
      </element>
      <element name="EquipmentId" type="string" minOccurs="1" maxOccurs="1">
        <annotation>
          <documentation>Specifies the instance of equipment that created the
            file.
          </documentation>
        </annotation>
      </element>
      <element name="CreateTime" type="cdr:TimestampType"
               minOccurs="1" maxOccurs="1">
        <annotation>
          <documentation>Specifies when the file was opened.
          </documentation>
        </annotation>
      </element>
    </sequence>
    <attribute name="seqnum" type="cdr:FileSeqNumType">
      <annotation>
        <documentation>Enables files to be assembled into the correct order and
          for missing files to be identified. This sequence number will start
          at zero and increment by one for each file generated. The ordering is
          maintained over protection switches.

          Under catastrophic failure conditions (i.e. multiple severe failures)
          it is possible that both servers within a pair lose the
          "current" value in which case the sequence will restart at
          zero again.

          This sequence number is the same sequence number that is used in the
          generation of the file names, although the file name component is
          limited to the last three digits of this value.
        </documentation>
      </annotation>
    </attribute>
  </complexType>

  <!--**********************************************************************-->
  <!-- A type that represents information about the contents of the file.   -->
  <!--**********************************************************************-->
  <complexType name="FileFooterType">
    <annotation>
      <documentation>Specifies information about the nature of the billing
        information contained in this file. The footer contains information
        that is only available once the file is complete; information that is
        invariant over the contents, such as the identity of the equipment
        generating the records, is provided in the corresponding
        &lt;FileHeader>.
      </documentation>
    </annotation>
    <sequence>
      <element name="LastModTime" type="cdr:TimestampType"
               minOccurs="1" maxOccurs="1">
        <annotation>
          <documentation>Specifies when the file was closed.</documentation>
        </annotation>
      </element>
      <element name="NumCDRs" type="unsignedLong"
               minOccurs="1" maxOccurs="1">
        <annotation>
          <documentation>Specifies how many CDRs are contained in the file.
          </documentation>
        </annotation>
      </element>
      <element name="DataErroredCDRs" type="unsignedLong"
               minOccurs="1" maxOccurs="1">
        <annotation>
          <documentation>Specifies how many CDRs in the file have suspect data
            ("error" not equal to "no".)
          </documentation>
        </annotation>
      </element>
      <element name="WriteErroredCDRs" type="unsignedLong"
               minOccurs="1" maxOccurs="1">
        <annotation>
          <documentation>Specifies how many CDRs had issues being written to
            file. Note that these CDRs will probably not be present in the
            file.
          </documentation>
        </annotation>
      </element>
      <element name="ClassifiedCDRs" type="cdr:ClassifiedCDRsType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Contains statistics about calls classified into the
            ten special classifier values (1-10). If no calls in the file have
            been classified, then the element is omitted.
          </documentation>
        </annotation>
      </element>
    </sequence>
  </complexType>

  <!--**********************************************************************-->
  <!-- A type to represent what Called Party Category was sent on an ISUP   -->
  <!-- call.                                                                -->
  <!--**********************************************************************-->
  <complexType name="CalledPartyNumCat">
    <annotation>
      <documentation>This value represents the Called Party Category of a party
        in an ISUP call.

        Introduced: Version 1.0, Compatibility Level 7.
      </documentation>
    </annotation>
    <sequence>
      <element name="Sent" type="cdr:CalledPartyNumCatType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>The Called Party Category sent.</documentation>
        </annotation>
      </element>
      <element name="Recv" type="cdr:CalledPartyNumCatType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>The Called Party Category received.</documentation>
        </annotation>
      </element>
    </sequence>
  </complexType>

  <!--**********************************************************************-->
  <!-- A type to represent the Satellite Indicator parameter received in an -->
  <!-- ISUP call.                                                           -->
  <!--**********************************************************************-->
  <complexType name="SatelliteIndicatorType">
    <annotation>
      <documentation>This value represent the Satellite Indicator parameter
      received in an ISUP call.

        Introduced: Version 1.0, Compatibility Level 7.
      </documentation>
    </annotation>
    <sequence>
      <element name="Sent" type="int"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>The value of the Satellite Indicators field sent
          in an ISUP call.</documentation>
        </annotation>
      </element>
      <element name="Recv" type="int"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>The value of the Satellite Indicators field received
          in an ISUP call.</documentation>
        </annotation>
      </element>
    </sequence>
  </complexType>

  <!--**********************************************************************-->
  <!-- A type to represent the value of the Echo Control Device Indicator   -->
  <!-- signalled in an ISUP call.                                           -->
  <!--**********************************************************************-->
  <complexType name="EchoControlInfoType">
    <annotation>
      <documentation>This value represents the value of the Echo Control Device
        Indicator signalled in an ISUP call.

        Introduced: Version 1.0, Compatibility Level 7.
      </documentation>
    </annotation>
    <sequence>
      <element name="Sent" type="string"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Specifies when the file was closed.</documentation>
        </annotation>
      </element>
      <element name="Recv" type="string"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Specifies when the file was closed.</documentation>
        </annotation>
      </element>
    </sequence>
  </complexType>

  <!--**********************************************************************-->
  <!-- A type to represent the index of an announcement played on a call.   -->
  <!--**********************************************************************-->
  <complexType name="Announcement">
    <annotation>
      <documentation>This value represents an announcement played in a call.

        Introduced: Version 1.0, Compatibility Level 7.
      </documentation>
    </annotation>
    <sequence>
      <element name="Group" type="unsignedByte"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Specifies the announcement group.</documentation>
        </annotation>
      </element>
      <element name="ID" type="unsignedLong"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Specifies the announcement ID.</documentation>
        </annotation>
      </element>
    </sequence>
  </complexType>

  <!--**********************************************************************-->
  <!-- A type to represent the value of the Call Reference parameter        -->
  <!-- signalled in an ISUP call.                                           -->
  <!--**********************************************************************-->
  <complexType name="CallReferenceType">
    <annotation>
      <documentation>This value represents the value of the Call Reference
        parameter signalled in an ISUP call.

        Introduced: Version 1.0, Compatibility Level 7.
      </documentation>
    </annotation>
    <sequence>
      <element name="PointCode" type="cdr:PointCodeDecimalType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>The signaling point code of the call reference.
          </documentation>
        </annotation>
      </element>
      <element name="CallIdentity" type="int"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>The call identity of the call reference.
          </documentation>
        </annotation>
      </element>
    </sequence>
  </complexType>

  <!--**********************************************************************-->
  <!-- A type to represent the value of the Call Reference parameter        -->
  <!-- signalled in an ISUP call.                                           -->
  <!--**********************************************************************-->
  <complexType name="AnnouncementType">
    <annotation>
      <documentation>Description of an announcement played during this call.

        Introduced: Version 1.0, Compatibility Level 7.
      </documentation>
    </annotation>
    <sequence>
      <element name="Group" type="int"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>The announcement group.
          </documentation>
        </annotation>
      </element>
      <element name="ID" type="int"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>The announcement ID.
          </documentation>
        </annotation>
      </element>
    </sequence>
  </complexType>

  <!--**********************************************************************-->
  <!-- A type to represent VQM stats.                                       -->
  <!--**********************************************************************-->
  <complexType name="VQMType">
    <annotation>
      <documentation>Defines the VQM stats for a party in a call.  Each party
        can have different statistics.
      </documentation>
    </annotation>
    <sequence>
      <element name="Endpoint" type="cdr:VQMTermStatsType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Endpoint stats - see "cdr:VQMTermStats".
            These are stats reported from the point of view of the endpoint
            of this party.  For example, if this is the OrigParty, and the call
            is from a SIP device to an SBC and then via a media gateway, these
            stats are those reported by the SBC (on behalf of the endpoint),
            for the RTP leg between the SBC and the media gateway.

            It is possible for the other end of the leg (in this case, the
            media gateway) to report stats for the SBC, in which case these are
            amalgamated with any stats the SBC reports and are reported here.

            The stats are reported using various H.248 packages, such as RTCP,
            RTCP-XR, and RECRTCP-XR.
          </documentation>
        </annotation>
      </element>
      <element name="TAG" type="cdr:VQMTermStatsType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Trunk/Access Gateway stats - see "cdr:VQMTermStats".
            These are stats reported from the point of view of the TAG
            of this party.  For example, if this is the OrigParty, and the call
            is from a SIP device to an SBC and then via a media gateway, these
            stats are those reported by the media gateway, for the RTP leg
            between the SBC and the media gateway.

            It is possible for the other end of the leg (in this case, the
            SBC) to report stats for the media gateway, in which case these are
            amalgamated with any stats the media gateway reports and are
            reported here.

            The stats are reported using various H.248 packages, such as RTCP,
            RTCP-XR, and RECRTCP-XR.
          </documentation>
        </annotation>
      </element>
      <element name="Codec" type="cdr:CodecType" minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>The last used codec (audio or video) on the call.
            This is the first RTP payload type in the last SDP exchange during
            the call.
          </documentation>
        </annotation>
      </element>
      <element name="Codecs" type="cdr:CodecsType" minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>A list of all the codecs (audio or video) used in the
            call, up to a limit of 10. These are taken from the SDP exchanges
            during the call, and represent each time an answer has been
            received where the first RTP payload type in the SDP list has
            changed.
          </documentation>
        </annotation>
      </element>
      <element name="RoundTripDelay" type="cdr:DelayType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Round trip delay.

            This is the time taken for the termination to send a signal plus
            the length of time take to receive acknowledgment of that signal.

            This is equivalent to the H.248 rtp/delay statistic (H.248.1).  It
            is converted from an RTP timestamp to ms.
          </documentation>
        </annotation>
      </element>
      <element name="DetectedFaxTone" type="boolean"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Whether a fax or modem tone was received by the MGC
          from the media gateway on this call.
          </documentation>
        </annotation>
      </element>
    </sequence>
  </complexType>

  <!--**********************************************************************-->
  <!-- A type to represent VQM term stats.                                  -->
  <!--**********************************************************************-->
  <complexType name="VQMTermStatsType">
    <annotation>
      <documentation>Defines the VQM stats for a termination - i.e. for a
        TAG or an endpoint.
      </documentation>
    </annotation>
    <sequence>
      <element name="Octets" type="cdr:VQMOctetStatsType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>VQM Octets sent/received stats</documentation>
        </annotation>
      </element>
      <element name="Packets" type="cdr:VQMPacketStatsType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>VQM Packet stats</documentation>
        </annotation>
      </element>
      <element name="Jitter" type="cdr:JitterType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Jitter</documentation>
        </annotation>
      </element>
      <element name="Delay" type="cdr:VQMDelayStatsType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Delay</documentation>
        </annotation>
      </element>
      <element name="CallQuality" type="cdr:VQMCallQualityStatsType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Call Quality</documentation>
        </annotation>
      </element>
    </sequence>
  </complexType>

  <!--**********************************************************************-->
  <!-- A type to represent VQM octet stats.                                 -->
  <!--**********************************************************************-->
  <complexType name="VQMOctetStatsType">
    <annotation>
      <documentation>Defines VQM octet stats.</documentation>
    </annotation>
    <sequence>
      <element name="Sent" type="cdr:OctetCountType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Octets sent by the termination.

            This is equivalent to the H.248 nt/os statistic (H.248.1).
          </documentation>
        </annotation>
      </element>
      <element name="Received" type="cdr:OctetCountType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Octets received by the termination.

            This is equivalent to the H.248 nt/or statistic (H.248.1).
          </documentation>
        </annotation>
      </element>
    </sequence>
  </complexType>

  <!--**********************************************************************-->
  <!-- A type to represent VQM packet stats.                                -->
  <!--**********************************************************************-->
  <complexType name="VQMPacketStatsType">
    <annotation>
      <documentation>Defines VQM packet stats</documentation>
    </annotation>
    <sequence>
      <element name="Sent" type="cdr:PacketCountType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Packets sent by the termination.

            This is equivalent to the H.248 rtp/ps statistic (H.248.1), or if
            reported by the remote end, the metaswrtp/rps statistic (the
            equivalent of recrtcp/rps, H.248.71).
          </documentation>
        </annotation>
      </element>
      <element name="Received" type="cdr:PacketCountType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Packets received by the termination.

            This is equivalent to the H.248 rtp/pr statistic (H.248.1), or if
            reported by the remote end, the metaswrtp/rpr statistic (the
            equivalent of recrtcp/rpr, H.248.71).
          </documentation>
        </annotation>
      </element>
      <element name="LossRate" type="cdr:PacketLossRateType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Packet loss rate on the termination.

            This is equivalent to the H.248 rtp/pl statistic (H.248.1), or if
            reported by the remote end, the metaswrtp/rpl statistic (the
            equivalent of recrtcp/rpl, H.248.71). In both cases it is scaled to
            be reported as a percentage.
          </documentation>
        </annotation>
      </element>
      <element name="Discarded" type="cdr:PacketCountType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Packets discarded by the jitter buffer on this
            termination.

            This is equivalent to the H.248 rtcpxr/jdr statistic
            (discard rate, H.248.30), or if reported by the remote end, the
            recrtcpxr/jdr statistic (H.248.30).  In both cases it is multiplied
            by the number of packets received.
          </documentation>
        </annotation>
      </element>
    </sequence>
  </complexType>

  <!--**********************************************************************-->
  <!-- A type to represent VQM delay stats.                                 -->
  <!--**********************************************************************-->
  <complexType name="VQMDelayStatsType">
    <annotation>
      <documentation>Defines VQM delay stats</documentation>
    </annotation>
    <sequence>
      <element name="EndSystemDelay" type="cdr:DelayType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>End System delay.

            End system delay is defined as the sum of the total sample
            accumulation and encoding delay associated with the sending
            direction and the jitter buffer, decoding, and playout buffer
            delay associated with the receiving direction.

            This is equivalent to the H.248 rtcpxr/esd statistic (H.248.30), or
            if reported by the remote end, the recrtcpxr/esd statistic
            (H.248.30).  It both cases it is reported in ms.
          </documentation>
        </annotation>
      </element>
    </sequence>
  </complexType>

  <!--**********************************************************************-->
  <!-- A type to represent VQM call quality stats.                          -->
  <!--**********************************************************************-->
  <complexType name="VQMCallQualityStatsType">
    <annotation>
      <documentation>Defines VQM delay stats</documentation>
    </annotation>
    <sequence>
      <element name="RFactor" type="cdr:RFactorType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>R Factor.

            The R factor is a voice quality metric describing the segment
            of the call that is carried over this RTP session.  It is
            expressed as an integer in the range 0 to 100, with a value of
            94 corresponding to "toll quality" and values of 50 or less
            regarded as unusable.

            This is equivalent to the H.248 rtcpxr/ns statistic (H.248.30), or
            if reported by the remote end, the recrtcpxr/ns statistic
            (H.248.30).
          </documentation>
        </annotation>
      </element>
      <element name="ExternalRFactor" type="cdr:RFactorType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>External R Factor.

            The external R factor is a voice quality metric describing the
            segment of the call that is carried over a network segment
            external to the RTP segment, for example a cellular network.  It
            is expressed as an integer in the range 0 to 100.

            This is equivalent to the H.248 rtcpxr/xns statistic (H.248.30), or
            if reported by the remote end, the recrtcpxr/xns statistic
            (H.248.30).
          </documentation>
        </annotation>
      </element>
      <element name="LQMos" type="cdr:MOSType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>LQ MOS.

            The estimated mean opinion score for listening quality (MOS-LQ)
            is a voice quality metric defined as not including the effects of
            delay and can be compared to MOS scores obtained from listening
            quality (ACR) tests.

            This is equivalent to the H.248 rtcpxr/lq statistic (H.248.30), or
            if reported by the remote end, the recrtcpxr/lq statistic
            (H.248.30). Valid values are 10 to 50.
          </documentation>
        </annotation>
      </element>
      <element name="CQMos" type="cdr:MOSType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>CQ MOS.

            The estimated mean opinion score for conversational quality
            (MOS-CQ) is a voice quality metric defined as including the effects
            of delay and other effects that would affect conversational
            quality.

            This is equivalent to the H.248 rtcpxr/cq statistic (H.248.30), or
            if reported by the remote end, the recrtcpxr/cq statistic
            (H.248.30). Valid values are 10 to 50.
          </documentation>
        </annotation>
      </element>
      <element name="OverallRFactor" type="cdr:OverallRFactorType"
               minOccurs="0" maxOccurs="1">
        <annotation>
          <documentation>Overall R Factor.

            Estimate for the overall R Factor on a call derived from the
            R Factor and external R Factor.

            This is calculated as (RTP R factor + external R factor - 94) as
            per RFC 3611.
          </documentation>
        </annotation>
      </element>
    </sequence>
  </complexType>

  <!--**********************************************************************-->
  <!-- A type to represent the overall structure of the billing file.       -->
  <!--**********************************************************************-->
  <complexType name="FileType">
    <annotation>
      <documentation>Specifies the overall structure of the file, comprising a
        header, the body of CDRs and a footer.
      </documentation>
    </annotation>
    <sequence>
      <element name="FileHeader" type="cdr:FileHeaderType"
               minOccurs="1" maxOccurs="1">
        <annotation>
          <documentation>Contains information about the billng file and the
            equipment that generated it. All the information in the header is
            invariant with respect to the contents of the CDRs.
          </documentation>
        </annotation>
      </element>
      <element name="CDRs" type="cdr:CdrsType" maxOccurs="1" minOccurs="1">
        <annotation>
          <documentation>Contains the CDRs themselves.</documentation>
        </annotation>
      </element>
      <element name="FileFooter" type="cdr:FileFooterType"
               minOccurs="1" maxOccurs="1">
        <annotation>
          <documentation>Contains information about the contents of the billing
            file, and therefore only available at the point that the file was
            closed.
          </documentation>
        </annotation>
      </element>
    </sequence>
    <attribute name="compatibility"
               type="cdr:SchemaCompatibilityType"
               use="optional"
               default="1">
      <annotation>
        <documentation>Enables the semantics and syntax of the content of the
          file to be interpreted. For rules on versioning of the schema refer
          to the documentation of the schema itself.

          The version history of the schema is:

    Schema    Compat.  CFS        Schema
    Version   Level    Version    Description
    =======   ======   ========   ===========
    V1.0      1        8.0.03     Initial version for customer deployment.
                       8.1

    V1.0      2        8.1.03     Further attributes and correlation with CDRs
                       8.2.02     from other nodes (e.g. Perimeta SBC).

    V1.0      3        8.3        Further elements and attributes.

    V1.0      4        9.0        Further elements and attributes.

    V1.0      5        9.0.01     Further elements and attributes.

    V1.0      6        9.0.03     Further elements and attributes.

    V1.0      7        9.1        Further elements and attributes.

    V1.0      8        9.2        Further elements and attributes.

          Introduced: Version 1.0, Compatibility Level 2.
        </documentation>
      </annotation>
    </attribute>
  </complexType>

  <!--**********************************************************************-->
  <!--**********************************************************************-->
  <!--                                                                      -->
  <!-- Finally, the single globally defined element that is the root        -->
  <!-- element of the billing documents.                                    -->
  <!--                                                                      -->
  <!--**********************************************************************-->
  <!--**********************************************************************-->

  <element name="File" type="cdr:FileType">
    <annotation>
      <documentation>This is the root element of the billing file. Its
        high-level structure is a header that describes how the contained
        records fit into the billing stream, the records themselves and a
        footer that records some information about the file, such as record
        counts.</documentation>
    </annotation>
  </element>

</schema>
